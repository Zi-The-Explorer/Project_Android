<!doctype html>
<html 
      lang="id"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#3ddc84"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/kotlin-android-training-view-model?hl=id"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml">
      

<title>Android Kotlin Fundamentals: 5.1 ViewModel &nbsp;|&nbsp; Developer Android</title>

<meta property="og:title" content="Android Kotlin Fundamentals: 5.1 ViewModel &nbsp;|&nbsp; Developer Android"><meta name="description" content="In this codelab, you learn how to use ViewModel to enable data to survive configuration changes such as screen rotations in your Android Kotlin app.">
  <meta property="og:description" content="In this codelab, you learn how to use ViewModel to enable data to survive configuration changes such as screen rotations in your Android Kotlin app."><meta property="og:url" content="https://developer.android.com/codelabs/kotlin-android-training-view-model?hl=id"><meta property="og:image" content="https://developer.android.com/images/social/android-developers.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image">
  <meta name="xsrf_token" content="PRwLRjMXl5mhr5SKWNQYetCR6HfT9TTiQCuohBfDF4Y6MTYyNzQ4MTgzMTA2NzA5NA">
  

  <meta name="session_expiry" content="1627483460">
  
    
    
    
    
    
    
      
    
    <meta name="original_source" content="https://docs.google.com/document/d/1jB44_rAszWEK5D4cMZqW06cGHl4AaMEY2mNoaR2f5Dk/edit" />
    
    
    
    
    
      
    
    
    
  

    </head>
  <body class="devsite-full-width-page"
        template="codelab"
        theme="android-theme"
        type="codelab"
        
        layout="full"
        
        
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header>
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo"
       alt="Android Developers">

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Tab atas">
      
        
          <tab  >
            <a href="https://developer.android.com/about"
   class="gc-analytics-event "
   track-type="nav"
   track-name="platform"
   track-metadata-eventdetail="https://developer.android.com/about"
   track-metadata-position="nav - platform"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Platform"
   >
  Platform
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/studio"
   class="gc-analytics-event "
   track-type="nav"
   track-name="android studio"
   track-metadata-eventdetail="https://developer.android.com/studio"
   track-metadata-position="nav - android studio"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Android Studio"
   >
  Android Studio
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/distribute"
   class="gc-analytics-event "
   track-type="nav"
   track-name="google play"
   track-metadata-eventdetail="https://developer.android.com/distribute"
   track-metadata-position="nav - google play"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Google Play"
   >
  Google Play
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/jetpack"
   class="gc-analytics-event "
   track-type="nav"
   track-name="jetpack"
   track-metadata-eventdetail="https://developer.android.com/jetpack"
   track-metadata-position="nav - jetpack"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Jetpack"
   >
  Jetpack
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/kotlin"
   class="gc-analytics-event "
   track-type="nav"
   track-name="kotlin"
   track-metadata-eventdetail="https://developer.android.com/kotlin"
   track-metadata-position="nav - kotlin"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Kotlin"
   >
  Kotlin
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/docs"
   class="gc-analytics-event "
   track-type="nav"
   track-name="dokumen"
   track-metadata-eventdetail="https://developer.android.com/docs"
   track-metadata-position="nav - dokumen"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Dokumen"
   >
  Dokumen
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/news"
   class="gc-analytics-event "
   track-type="nav"
   track-name="berita"
   track-metadata-eventdetail="https://developer.android.com/news"
   track-metadata-position="nav - berita"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Berita"
   >
  Berita
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    aria-expanded="false"
    aria-haspopup="listbox"
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    project-name="Developer Android"
    tenant-name="Android Developers"
    
    
    
    
    
    role="combobox">
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Penelusuran"
          aria-haspopup="false"
          aria-multiline="false"
          aria-label="Kotak penelusuran"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Penelusuran"
          role="searchbox"
          type="text"
          value=""
          >
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Buka penelusuran"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Tutup penelusuran"></button>
</devsite-search>

        </div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>


        

        
          
          
          <devsite-user signed-in
                        
                        
                          enable-profiles
                        
                        
                          
                        id="devsite-user"></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    
      devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
      
        
      
      
    </div>
  </div>

</div>



  
</devsite-header>
      <devsite-book-nav scrollbars hidden>
        
          
























<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Menu samping">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo" alt="Android Developers">

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/about"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Platform"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="platform">
  
    <span class="devsite-nav-text" tooltip >
      Platform
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="androidStudio">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="googlePlay">
  
    <span class="devsite-nav-text" tooltip >
      Google Play
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/jetpack"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Jetpack"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="jetpack">
  
    <span class="devsite-nav-text" tooltip >
      Jetpack
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/kotlin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Kotlin"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="kotlin">
  
    <span class="devsite-nav-text" tooltip >
      Kotlin
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumen"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="dokumen">
  
    <span class="devsite-nav-text" tooltip >
      Dokumen
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/news"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Berita"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="berita">
  
    <span class="devsite-nav-text" tooltip >
      Berita
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
            >
          
          <devsite-toc class="devsite-nav"
                       role="navigation"
                       aria-label="Daftar isi"
            disabled></devsite-toc>
          <devsite-content>
            
              

















<article class="devsite-article"><style>
      body {
        transition: opacity ease-in 0.2s;
      }

      body[unresolved] {
        opacity: 0;
        display: block;
        overflow: hidden;
        position: relative;
      }
      </style>
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://developer.android.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Developer Android"
      
    >
    
        Developer Android
      
  </a>
  
    
  </li>
  
</ul>
    
  </div>
  
  
    <h1 class="devsite-page-title">Android Kotlin Fundamentals: 5.1 ViewModel</h1><devsite-bookmark></devsite-bookmark>
  

  <devsite-toc class="devsite-nav" devsite-toc-embedded
               disabled>
  </devsite-toc>

  

  <div class="devsite-article-body clearfix
    ">

    
      
    <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
    <google-codelab codelab-gaid="UA-81734179-1"
                    doc-id="1jB44_rAszWEK5D4cMZqW06cGHl4AaMEY2mNoaR2f5Dk"
                    id="kotlin-android-training-view-model"
                    title="Android Kotlin Fundamentals: 5.1 ViewModel"
                    environment="web"
                    category="android,kotlin"
                    feedback-link="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/issues/new?assignees=&amp;labels=&amp;template=android-kotlin-fundamentals.md&amp;title=Android&#43;Kotlin&#43;Fundamentals&#43;codelab%3A&#43;"
                    >
      
        <google-codelab-step label="Welcome" duration="0">
          
            <google-codelab-about codelab-title="Android Kotlin Fundamentals: 5.1 ViewModel"
                                  authors="Google Developers Training team"
                                  >
            </google-codelab-about>
          
          <p>This codelab is part of the Android Kotlin Fundamentals course. You&#39;ll get the most value out of this course if you work through the codelabs in sequence. All the course codelabs are listed on the  <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>
<table class="vertical-rules">
<tr><td colspan="1" rowspan="1"><p><img src="/codelabs/kotlin-android-training-view-model/img/4abf85983013d4f3.png">Title screen</p>
</td><td colspan="1" rowspan="1"><p><img src="/codelabs/kotlin-android-training-view-model/img/e875f540ddb4279.png">Game screen</p>
</td><td colspan="1" rowspan="1"><p><img src="/codelabs/kotlin-android-training-view-model/img/93ad90ebbccc6671.png">Score screen</p>
</td></tr>
</table>
<h2 is-upgraded id="introduction" data-text="Introduction">Introduction</h2>
<p>In this codelab, you learn about one of the Android Architecture Components,   <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a>:</p>
<ul>
<li>You use the <code translate="no" dir="ltr">ViewModel</code> class to store and manage UI-related data in a lifecycle-conscious way. The <code translate="no" dir="ltr">ViewModel</code> class allows data to survive device-configuration changes such as screen rotations and changes to keyboard availability.</li>
<li>You use the  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory" target="_blank"><code translate="no" dir="ltr">ViewModelFactory</code></a> class to instantiate and return the <code translate="no" dir="ltr">ViewModel</code> object that survives configuration changes.</li>
</ul>
<h2 is-upgraded id="what-you-should-already-know" data-text="What you should already know">What you should already know</h2>
<ul>
<li>How to create basic Android apps in Kotlin.</li>
<li>How to use the navigation graph to implement navigation in your app.</li>
<li>How to add code to navigate between your app&#39;s destinations and pass data between navigation destinations.</li>
<li>How the activity and fragment lifecycles work.</li>
<li>How to add logging information to an app and read logs using Logcat in Android Studio.</li>
</ul>
<h2 class="checklist" is-upgraded id="what-youll-learn" data-text="What you'll learn">What you'll learn</h2>
<ul class="checklist">
<li>How to use the recommended Android  <a href="https://developer.android.com/jetpack/docs/guide" target="_blank">app architecture</a>.</li>
<li>How to use the  <a href="https://developer.android.com/reference/android/arch/lifecycle/Lifecycle.html" target="_blank"><code translate="no" dir="ltr">Lifecycle</code></a>,  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a>, and  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory" target="_blank"><code translate="no" dir="ltr">ViewModelFactory</code></a> classes in your app.</li>
<li>How to retain UI data through device-configuration changes.</li>
<li>What the  <a href="https://en.wikipedia.org/wiki/Factory_method_pattern" target="_blank">factory method</a> design pattern is and how to use it.</li>
<li>How to create a <code translate="no" dir="ltr">ViewModel</code> object using the interface <code translate="no" dir="ltr">ViewModelProvider.Factory</code>.</li>
</ul>
<h2 is-upgraded id="what-youll-do" data-text="What you'll do">What you'll do</h2>
<ul>
<li>Add a  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> to the app, to save app&#39;s data so the data survives configuration changes.</li>
<li>Use  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory" target="_blank"><code translate="no" dir="ltr">ViewModelFactory</code></a> and the factory-method design pattern to instantiate a <code translate="no" dir="ltr">ViewModel</code> object with constructor parameters.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="App overview" duration="0">
          
          <p>In the Lesson 5 codelabs, you develop the GuessTheWord app, beginning with starter code. GuessTheWord is a two-player  <a href="https://en.wikipedia.org/wiki/Charades" target="_blank">charades</a>-style game, where the players collaborate to achieve the highest score possible.</p>
<p>The first player looks at the words in the app and acts each one out in turn, making sure not to show the word to the second player. The second player tries to guess the word.</p>
<p>To play the game, the first player opens the app on the device and sees a word, for example &#34;guitar,&#34; as shown in the screenshot below.</p>
<p class="image-container"><img alt="8df85c3b8266c7a8.png" style="width: 408.90px" src="/codelabs/kotlin-android-training-view-model/img/8df85c3b8266c7a8.png"></p>
<p>The first player acts out the word, being careful not to actually say the word itself.</p>
<ul>
<li>When the second player guesses the word correctly, the first player presses the <strong>Got It</strong> button, which increases the count by one and shows the next word.</li>
<li>If the second player can&#39;t guess the word, the first player presses the <strong>Skip</strong> button, which decreases the count by one and skips to the next word.</li>
<li>To end the game, press the <strong>End Game</strong> button. (This functionality isn&#39;t in the starter code for the first codelab in the series.)</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Explore the starter code" duration="0">
          
          <p>In this task, you download and run the starter app and examine the code.</p>
<h2 is-upgraded id="step-1:-get-started" data-text="Step 1: Get started">Step 1: Get started</h2>
<ol type="1">
<li><a href="https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/tree/master/GuessTheWord-Starter" target="_blank">Download the GuessTheWord starter code</a> and open the project in Android Studio.</li>
<li>Run the app on an Android-powered device, or on an emulator.</li>
<li>Tap the buttons. Notice that the <strong>Skip</strong> button displays the next word and decreases the score by one, and the <strong>Got It</strong> button shows the next word and increases the score by one. The <strong>End Game</strong> button is not implemented, so nothing happens when you tap it.</li>
</ol>
<h2 is-upgraded id="step-2:-do-a-code-walkthrough" data-text="Step 2: Do a code walkthrough">Step 2: Do a code walkthrough</h2>
<ol type="1">
<li>In Android Studio, explore the code to get a feel for how the app works.</li>
<li>Make sure to look at the files described below, which are particularly important.</li>
</ol>
<h3 is-upgraded id="mainactivity.kt" data-text="MainActivity.kt">MainActivity.kt</h3>
<p>This file contains only default, template-generated code.</p>
<h3 is-upgraded id="reslayoutmain_activity.xml" data-text="res/layout/main_activity.xml">res/layout/main_activity.xml</h3>
<p>This file contains the app&#39;s main layout. The  <a href="https://developer.android.com/reference/androidx/navigation/fragment/NavHostFragment" target="_blank"><code translate="no" dir="ltr">NavHostFragment</code></a> hosts the other fragments as the user navigates through the app.</p>
<h3 is-upgraded id="ui-fragments" data-text="UI fragments">UI fragments</h3>
<p>The starter code has three fragments in three different packages under the <code translate="no" dir="ltr">com.example.android.guesstheword.screens</code> package:</p>
<ul>
<li><code translate="no" dir="ltr">title/TitleFragment</code> for the title screen</li>
<li><code translate="no" dir="ltr">game/GameFragment</code> for the game screen</li>
<li><code translate="no" dir="ltr">score/ScoreFragment</code> for the score screen</li>
</ul>
<h3 is-upgraded id="screenstitletitlefragment.kt" data-text="screens/title/TitleFragment.kt">screens/title/TitleFragment.kt</h3>
<p>The title fragment is the first screen that is displayed when the app is launched. A click handler is set to the <strong>Play</strong> button, to navigate to the game screen.</p>
<h3 is-upgraded id="screensgamegamefragment.kt" data-text="screens/game/GameFragment.kt">screens/game/GameFragment.kt</h3>
<p>This is the main fragment, where most of the game&#39;s action takes place:</p>
<ul>
<li>Variables are defined for the current word and the current score.</li>
<li>The <code translate="no" dir="ltr">wordList</code> defined inside the <code translate="no" dir="ltr">resetList()</code> method is a sample list of words to be used in the game.</li>
<li>The <code translate="no" dir="ltr">onSkip()</code> method is the click handler for the <strong>Skip</strong> button. It decreases the score by 1, then displays the next word using the <code translate="no" dir="ltr">nextWord()</code> method.</li>
<li>The <code translate="no" dir="ltr">onCorrect()</code> method is the click handler for the <strong>Got It</strong> button. This method is implemented similarly to the <code translate="no" dir="ltr">onSkip()</code> method. The only difference is that this method adds 1 to the score instead of subtracting.</li>
</ul>
<h3 is-upgraded id="screensscorescorefragment.kt" data-text="screens/score/ScoreFragment.kt">screens/score/ScoreFragment.kt</h3>
<p><code translate="no" dir="ltr">ScoreFragment</code> is the final screen in the game, and it displays the player&#39;s final score. In this codelab, you add the implementation to display this screen and show the final score.</p>
<h3 is-upgraded id="resnavigationmain_navigation.xml" data-text="res/navigation/main_navigation.xml">res/navigation/main_navigation.xml</h3>
<p>The navigation graph shows how the fragments are connected through navigation:</p>
<ul>
<li>From the title fragment, the user can navigate to the game fragment.</li>
<li>From the game fragment, the user can navigate to the score fragment.</li>
<li>From the score fragment, the user can navigate back to the game fragment.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Find problems in the starter app" duration="0">
          
          <p>In this task, you find issues with the GuessTheWord starter app.</p>
<ol type="1">
<li>Run the  <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/tree/master/GuessTheWord-Starter" target="_blank">starter code</a> and play the game through a few words, tapping either <strong>Skip</strong> or <strong>Got It</strong> after each word.</li>
<li>The game screen now shows a word and the current score. Change the screen orientation by rotating the device or emulator. Notice that the current score is lost.</li>
<li>Run the game through a few more words. When the game screen is displayed with some score, close and re-open the app. Notice that the game restarts from the beginning, because the app state is not saved.</li>
<li>Play the game through a few words, then tap the <strong>End Game</strong> button. Notice that nothing happens.</li>
</ol>
<p>Issues in the app:</p>
<ul>
<li>The starter app doesn&#39;t save and restore the app state during configuration changes, such as when the device orientation changes, or when the app shuts down and restarts. You could resolve this issue using the  <a href="https://developer.android.com/guide/components/activities/activity-lifecycle#save-simple-lightweight-ui-state-using-onsaveinstancestate" target="_blank"><code translate="no" dir="ltr">onSaveInstanceState()</code></a> callback. However, using the <code translate="no" dir="ltr">onSaveInstanceState()</code> method requires you to write extra code to save the state in a bundle, and to implement the logic to retrieve that state. Also, the amount of data that can be stored is minimal.</li>
<li>The game screen does not navigate to the score screen when the user taps the <strong>End Game</strong> button.</li>
</ul>
<p>You can resolve these issues using the  <a href="https://developer.android.com/jetpack/docs/guide" target="_blank">app architecture</a> components that you learn about in this codelab.</p>
<h2 is-upgraded id="app-architecture" data-text="App architecture">App architecture</h2>
<p>App architecture is a way of designing your apps&#39; classes, and the relationships between them, such that the code is organized, performs well in particular scenarios, and is easy to work with. In this set of four codelabs, the improvements that you make to the GuessTheWord app follow the  <a href="https://developer.android.com/jetpack/docs/guide" target="_blank">Android app architecture</a> guidelines, and you use  <a href="https://developer.android.com/jetpack/#architecture-components" target="_blank">Android Architecture Components</a>. The Android app architecture is similar to the  <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank">MVVM</a> (model-view-viewmodel) architectural pattern.</p>
<p>The GuessTheWord app follows the  <a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank">separation of concerns</a> design principle and is divided into classes, with each class addressing a separate concern. In this first codelab of the lesson, the classes you work with are a UI controller, a <code translate="no" dir="ltr">ViewModel</code>, and a <code translate="no" dir="ltr">ViewModelFactory</code>.</p>
<h3 is-upgraded id="ui-controller" data-text="UI controller">UI controller</h3>
<p>A <em>UI controller</em> is a UI-based class such as <code translate="no" dir="ltr">Activity</code> or <code translate="no" dir="ltr">Fragment</code>. A UI controller should only contain logic that handles UI and operating-system interactions such as displaying views and capturing user input. Don&#39;t put decision-making logic, such as logic that determines the text to display, into the UI controller.</p>
<p>In the GuessTheWord starter code, the UI controllers are the three fragments: <code translate="no" dir="ltr">GameFragment</code>, <code translate="no" dir="ltr">ScoreFragment,</code> and <code translate="no" dir="ltr">TitleFragment</code>. Following the &#34;separation of concerns&#34; design principle, the <code translate="no" dir="ltr">GameFragment</code> is only responsible for drawing game elements to the screen and knowing when the user taps the buttons, and nothing more. When the user taps a button, this information is passed to the <code translate="no" dir="ltr">GameViewModel</code>.</p>
<h3 is-upgraded id="viewmodel" data-text="ViewModel">ViewModel</h3>
<p>A  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> holds data to be displayed in a fragment or activity associated with the <code translate="no" dir="ltr">ViewModel</code>. A <code translate="no" dir="ltr">ViewModel</code> can do simple calculations and transformations on data to prepare the data to be displayed by the UI controller. In this architecture, the <code translate="no" dir="ltr">ViewModel</code> performs the decision-making.</p>
<p>The <code translate="no" dir="ltr">GameViewModel</code> holds data like the score value, the list of words, and the current word, because this is the data to be displayed on the screen. The <code translate="no" dir="ltr">GameViewModel</code> also contains the business logic to perform simple calculations to decide what the current state of the data is.</p>
<h3 is-upgraded id="viewmodelfactory" data-text="ViewModelFactory">ViewModelFactory</h3>
<p>A  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory" target="_blank"><code translate="no" dir="ltr">ViewModelFactory</code></a> instantiates <code translate="no" dir="ltr">ViewModel</code> objects, with or without constructor parameters.</p>
<p class="image-container"><img alt="d115344705100cf1.png" style="width: 548.00px" src="/codelabs/kotlin-android-training-view-model/img/d115344705100cf1.png"></p>
<p>In later codelabs, you learn about other Android Architecture Components that are related to UI controllers and <code translate="no" dir="ltr">ViewModel</code>.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Create the GameViewModel" duration="0">
          
          <p>The  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> class is designed to store and manage the UI-related data. In this app, each <code translate="no" dir="ltr">ViewModel</code> is associated with one fragment.</p>
<p>In this task, you add your first <code translate="no" dir="ltr">ViewModel</code> to your app, the <code translate="no" dir="ltr">GameViewModel</code> for the <code translate="no" dir="ltr">GameFragment</code>. You also learn what it means that the <code translate="no" dir="ltr">ViewModel</code> is lifecycle-aware.</p>
<h2 is-upgraded id="step-1:-add-the-gameviewmodel-class" data-text="Step 1: Add the GameViewModel class">Step 1: Add the GameViewModel class</h2>
<ol type="1">
<li>Open the <code translate="no" dir="ltr">build.gradle(module:app)</code> file. Inside the <code translate="no" dir="ltr">dependencies</code> block, add the Gradle dependency for the <code translate="no" dir="ltr">ViewModel</code>.</li>
</ol>
<p>If you use the  <a href="https://developer.android.com/jetpack/androidx/releases/lifecycle" target="_blank">latest version</a> of the library, the solution app should compile as expected. If it doesn&#39;t, try resolving the issue, or revert to the version shown below.</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">//ViewModel
implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0&#39;
</code></pre>
<ol type="1" start="2">
<li>In the package <code translate="no" dir="ltr">screens/game/</code> folder, create a new Kotlin class called <code translate="no" dir="ltr">GameViewModel</code>.</li>
<li>Make the <code translate="no" dir="ltr">GameViewModel</code> class extend the abstract class  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a>.</li>
<li>To help you better understand how the <code translate="no" dir="ltr">ViewModel</code> is lifecycle-aware, add an <code translate="no" dir="ltr">init</code> block with a <code translate="no" dir="ltr">log</code> statement.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class GameViewModel : ViewModel() {
   init {
       Log.i(&#34;GameViewModel&#34;, &#34;GameViewModel created!&#34;)
   }
}
</code></pre>
<h2 is-upgraded id="step-2:-override-oncleared-and-add-logging" data-text="Step 2: Override onCleared() and add logging">Step 2: Override onCleared() and add logging</h2>
<p>The <code translate="no" dir="ltr">ViewModel</code> is destroyed when the associated fragment is detached, or when the activity is finished. Right before the <code translate="no" dir="ltr">ViewModel</code> is destroyed, the <code translate="no" dir="ltr">onCleared()</code> callback is called to clean up the resources.</p>
<ol type="1">
<li>In the <code translate="no" dir="ltr">GameViewModel</code> class, override the <code translate="no" dir="ltr">onCleared()</code> method.</li>
<li>Add a log statement inside <code translate="no" dir="ltr">onCleared()</code> to track the <code translate="no" dir="ltr">GameViewModel</code> lifecycle.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun onCleared() {
   super.onCleared()
   Log.i(&#34;GameViewModel&#34;, &#34;GameViewModel destroyed!&#34;)
}
</code></pre>
<h2 is-upgraded id="step-3:-associate-gameviewmodel-with-the-game-fragment" data-text="Step 3: Associate GameViewModel with the game fragment">Step 3: Associate GameViewModel with the game fragment</h2>
<p>A <code translate="no" dir="ltr">ViewModel</code> needs to be associated with a UI controller. To associate the two, you create a reference to the <code translate="no" dir="ltr">ViewModel</code> inside the UI controller.</p>
<p>In this step, you create a reference of the <code translate="no" dir="ltr">GameViewModel</code> inside the corresponding UI controller, which is <code translate="no" dir="ltr">GameFragment</code>.</p>
<ol type="1">
<li>In the <code translate="no" dir="ltr">GameFragment</code> class, add a field of the type <code translate="no" dir="ltr">GameViewModel</code> at the top level as a class variable.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private lateinit var viewModel: GameViewModel
</code></pre>
<h2 is-upgraded id="step-4:-initialize-the-viewmodel" data-text="Step 4: Initialize the ViewModel">Step 4: Initialize the ViewModel</h2>
<p>During configuration changes such as screen rotations, UI controllers such as fragments are re-created. However, <code translate="no" dir="ltr">ViewModel</code> instances survive. If you create the <code translate="no" dir="ltr">ViewModel</code> instance using the <code translate="no" dir="ltr">ViewModel</code> class, a new object is created every time the fragment is re-created. Instead, create the <code translate="no" dir="ltr">ViewModel</code> instance using a  <a href="https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider" target="_blank"><code translate="no" dir="ltr">ViewModelProvider</code></a>.</p>
<p class="image-container"><img alt="4b1c6b4b4c62a8ef.png" style="width: 426.50px" src="/codelabs/kotlin-android-training-view-model/img/4b1c6b4b4c62a8ef.png"></p>
<aside class="warning"><p><strong>Important:</strong> Always use  <a href="https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider" target="_blank"><code translate="no" dir="ltr">ViewModelProvider</code></a> to create <code translate="no" dir="ltr">ViewModel</code> objects rather than directly instantiating an instance of <code translate="no" dir="ltr">ViewModel</code>.</p>
</aside>
<p>How <code translate="no" dir="ltr">ViewModelProvider</code> works:</p>
<ul>
<li><code translate="no" dir="ltr">ViewModelProvider</code> returns an existing <code translate="no" dir="ltr">ViewModel</code> if one exists, or it creates a new one if it does not already exist.</li>
<li><code translate="no" dir="ltr">ViewModelProvider</code> creates a <code translate="no" dir="ltr">ViewModel</code> instance in association with the given scope (an activity or a fragment).</li>
<li>The created <code translate="no" dir="ltr">ViewModel</code> is retained as long as the scope is alive. For example, if the scope is a fragment, the <code translate="no" dir="ltr">ViewModel</code> is retained until the fragment is detached.</li>
</ul>
<p>Initialize the <code translate="no" dir="ltr">ViewModel</code>, using the  <a href="https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider#get(java.lang.Class%3CT%3E)" target="_blank"><code translate="no" dir="ltr">ViewModelProvider.get()</code></a> method to create a <code translate="no" dir="ltr">ViewModelProvider</code>:</p>
<ol type="1">
<li>In the <code translate="no" dir="ltr">GameFragment</code> class, initialize the <code translate="no" dir="ltr">viewModel</code> variable. Put this code inside <code translate="no" dir="ltr">onCreateView()</code>, after the definition of the binding variable. Use the <code translate="no" dir="ltr">ViewModelProvider.get()</code> method, and pass in the associated <code translate="no" dir="ltr">GameFragment</code> context and the <code translate="no" dir="ltr">GameViewModel</code> class.</li>
<li>Above the initialization of the <code translate="no" dir="ltr">ViewModel</code> object, add a log statement to log the <code translate="no" dir="ltr">ViewModelProvider.get()</code> method call.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">Log.i(&#34;GameFragment&#34;, &#34;Called ViewModelProvider.get&#34;)
viewModel = ViewModelProvider(this).get(GameViewModel::class.java)
</code></pre>
<ol type="1" start="3">
<li>Run the app. In Android Studio, open the <strong>Logcat</strong> pane and filter on <code translate="no" dir="ltr">Game</code>. Tap the <strong>Play</strong> button on your device or emulator. The game screen opens.</li>
</ol>
<p>As shown in the Logcat, the <code translate="no" dir="ltr">onCreateView()</code> method of the <code translate="no" dir="ltr">GameFragment</code> calls the <code translate="no" dir="ltr">ViewModelProvider.get()</code> method to create the <code translate="no" dir="ltr">GameViewModel</code>. The logging statements that you added to the <code translate="no" dir="ltr">GameFragment</code> and the <code translate="no" dir="ltr">GameViewModel</code> show up in the Logcat.</p>
<pre translate="no" dir="ltr">I/GameFragment: Called ViewModelProvider.get
I/GameViewModel: GameViewModel created!
</pre>
<ol type="1" start="4">
<li>Enable the auto-rotate setting on your device or emulator and change the screen orientation a few times. The <code translate="no" dir="ltr">GameFragment</code> is destroyed and re-created each time, so <code translate="no" dir="ltr">ViewModelProvider.get()</code> is called each time. But the <code translate="no" dir="ltr">GameViewModel</code> is created only once, and it is not re-created or destroyed for each call.</li>
</ol>
<pre translate="no" dir="ltr">I/GameFragment: Called ViewModelProvider.get
I/GameViewModel: GameViewModel created!
I/GameFragment: Called ViewModelProvider.get
I/GameFragment: Called ViewModelProvider.get
I/GameFragment: Called ViewModelProvider.get
</pre>
<ol type="1" start="5">
<li>Exit the game or navigate out of the game fragment. The <code translate="no" dir="ltr">GameFragment</code> is destroyed. The associated <code translate="no" dir="ltr">GameViewModel</code> is also destroyed, and the callback <code translate="no" dir="ltr">onCleared()</code> is called.</li>
</ol>
<pre translate="no" dir="ltr">I/GameFragment: Called ViewModelProvider.get
I/GameViewModel: GameViewModel created!
I/GameFragment: Called ViewModelProvider.get
I/GameFragment: Called ViewModelProvider.get
I/GameFragment: Called ViewModelProvider.get
I/GameViewModel: GameViewModel destroyed!
</pre>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Populate the GameViewModel" duration="0">
          
          <p>The <code translate="no" dir="ltr">ViewModel</code> survives configuration changes, so it&#39;s a good place for data that needs to survive configuration changes:</p>
<ul>
<li>Put data to be displayed on the screen, and code to process that data, in the <code translate="no" dir="ltr">ViewModel</code>.</li>
<li>The <code translate="no" dir="ltr">ViewModel</code> should never contain references to fragments, activities, or views, because activities, fragments, and views do not survive configuration changes.</li>
</ul>
<p class="image-container"><img alt="86c9c22e398e0642.png" style="width: 624.00px" src="/codelabs/kotlin-android-training-view-model/img/86c9c22e398e0642.png"></p>
<p>For comparison, here&#39;s how the <code translate="no" dir="ltr">GameFragment</code> UI data is handled in the starter app before you add <code translate="no" dir="ltr">ViewModel</code>, and after you add <code translate="no" dir="ltr">ViewModel</code>:</p>
<ul>
<li>Before you add <code translate="no" dir="ltr">ViewModel</code>: When the app goes through a configuration change such as a screen rotation, the game fragment is destroyed and re-created. The data is lost.</li>
<li>After you add <code translate="no" dir="ltr">ViewModel</code> and move the game fragment&#39;s UI data into the <code translate="no" dir="ltr">ViewModel</code>: All the data that the fragment needs to display is now the <code translate="no" dir="ltr">ViewModel</code>. When the app goes through a configuration change, the <code translate="no" dir="ltr">ViewModel</code> survives, and the data is retained.</li>
</ul>
<p class="image-container"><img alt="6451748b74d3b82c.png" style="width: 624.00px" src="/codelabs/kotlin-android-training-view-model/img/6451748b74d3b82c.png"></p>
<p>In this task, you move the app&#39;s UI data into the <code translate="no" dir="ltr">GameViewModel</code> class, along with the methods to process the data. You do this so the data is retained during configuration changes.</p>
<h2 is-upgraded id="step-1:-move-data-fields-and-data-processing-to-the-viewmodel" data-text="Step 1: Move data fields and data processing to the ViewModel">Step 1: Move data fields and data processing to the ViewModel</h2>
<p>Move the following data fields and methods from the <code translate="no" dir="ltr">GameFragment</code> to the <code translate="no" dir="ltr">GameViewModel</code>:</p>
<ol type="1">
<li>Move the <code translate="no" dir="ltr">word</code>, <code translate="no" dir="ltr">score</code>, and <code translate="no" dir="ltr">wordList</code> data fields. Make sure <code translate="no" dir="ltr">word</code> and <code translate="no" dir="ltr">score</code> are not <code translate="no" dir="ltr">private</code>.</li>
</ol>
<p>Do not move the binding variable, <code translate="no" dir="ltr">GameFragmentBinding</code>, because it contains references to the views. This variable is used to inflate the layout, set up the click listeners, and display the data on the screen—responsibilities of the fragment. 2. Move the <code translate="no" dir="ltr">resetList()</code> and <code translate="no" dir="ltr">nextWord()</code> methods. These methods decide what word to show on the screen. 3. From inside the <code translate="no" dir="ltr">onCreateView()</code> method, move the method calls to <code translate="no" dir="ltr">resetList()</code> and <code translate="no" dir="ltr">nextWord()</code> to the <code translate="no" dir="ltr">init</code> block of the <code translate="no" dir="ltr">GameViewModel</code>.</p>
<p>These methods must be in the <code translate="no" dir="ltr">init</code> block, because you should reset the word list when the <code translate="no" dir="ltr">ViewModel</code> is created, not every time the fragment is created. You can delete the log statement in the <code translate="no" dir="ltr">init</code> block of <code translate="no" dir="ltr">GameViewModel</code>.</p>
<p>The <code translate="no" dir="ltr">onSkip()</code> and <code translate="no" dir="ltr">onCorrect()</code> click handlers in the <code translate="no" dir="ltr">GameFragment</code> contain code for processing the data and updating the UI. The code to update the UI should stay in the fragment, but the code for processing the data needs to be moved to the <code translate="no" dir="ltr">ViewModel</code>.</p>
<p>For now, put the identical methods in both places:</p>
<ol type="1">
<li>Copy the <code translate="no" dir="ltr">onSkip()</code> and <code translate="no" dir="ltr">onCorrect()</code> methods from the <code translate="no" dir="ltr">GameFragment</code> to the <code translate="no" dir="ltr">GameViewModel</code>.</li>
<li>In the <code translate="no" dir="ltr">GameViewModel</code>, make sure the <code translate="no" dir="ltr">onSkip()</code> and <code translate="no" dir="ltr">onCorrect()</code> methods are not <code translate="no" dir="ltr">private</code>, because you will reference these methods from the fragment.</li>
</ol>
<p>Here is the code for <code translate="no" dir="ltr">GameViewModel</code> class, after refactoring:</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class GameViewModel : ViewModel() {
   // The current word
   var word = &#34;&#34;
   // The current score
   var score = 0
   // The list of words - the front of the list is the next word to guess
   private lateinit var wordList: MutableList&lt;String&gt;

   /**
    * Resets the list of words and randomizes the order
    */
   private fun resetList() {
       wordList = mutableListOf(
               &#34;queen&#34;,
               &#34;hospital&#34;,
               &#34;basketball&#34;,
               &#34;cat&#34;,
               &#34;change&#34;,
               &#34;snail&#34;,
               &#34;soup&#34;,
               &#34;calendar&#34;,
               &#34;sad&#34;,
               &#34;desk&#34;,
               &#34;guitar&#34;,
               &#34;home&#34;,
               &#34;railway&#34;,
               &#34;zebra&#34;,
               &#34;jelly&#34;,
               &#34;car&#34;,
               &#34;crow&#34;,
               &#34;trade&#34;,
               &#34;bag&#34;,
               &#34;roll&#34;,
               &#34;bubble&#34;
       )
       wordList.shuffle()
   }

   init {
       resetList()
       nextWord()
       Log.i(&#34;GameViewModel&#34;, &#34;GameViewModel created!&#34;)
   }
   /**
    * Moves to the next word in the list
    */
   private fun nextWord() {
       if (!wordList.isEmpty()) {
           //Select and remove a word from the list
           word = wordList.removeAt(0)
       }
       updateWordText()
       updateScoreText()
   }
 /** Methods for buttons presses **/
   fun onSkip() {
       score--
       nextWord()
   }

   fun onCorrect() {
       score++
       nextWord()
   }

   override fun onCleared() {
       super.onCleared()
       Log.i(&#34;GameViewModel&#34;, &#34;GameViewModel destroyed!&#34;)
   }
}
</code></pre>
<p>Here is the code for the <code translate="no" dir="ltr">GameFragment</code> class, after refactoring:</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Fragment where the game is played
*/
class GameFragment : Fragment() {


   private lateinit var binding: GameFragmentBinding


   private lateinit var viewModel: GameViewModel


   override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,
                             savedInstanceState: Bundle?): View? {

       // Inflate view and obtain an instance of the binding class
       binding = DataBindingUtil.inflate(
               inflater,
               R.layout.game_fragment,
               container,
               false
       )

       Log.i(&#34;GameFragment&#34;, &#34;Called ViewModelProvider.get&#34;)
       viewModel = ViewModelProvider(this).get(GameViewModel::class.java)

       binding.correctButton.setOnClickListener { onCorrect() }
       binding.skipButton.setOnClickListener { onSkip() }
       updateScoreText()
       updateWordText()
       return binding.root

   }


   /** Methods for button click handlers **/

   private fun onSkip() {
       score--
       nextWord()
   }

   private fun onCorrect() {
       score++
       nextWord()
   }


   /** Methods for updating the UI **/

   private fun updateWordText() {
       binding.wordText.text = word
   }

   private fun updateScoreText() {
       binding.scoreText.text = score.toString()
   }
}
</code></pre>
<h2 is-upgraded id="step-2:-update-references-to-click-handlers-and-data-fields-in-gamefragment" data-text="Step 2: Update references to click handlers and data fields in GameFragment">Step 2: Update references to click handlers and data fields in GameFragment</h2>
<ol type="1">
<li>In <code translate="no" dir="ltr">GameFragment</code>, update the <code translate="no" dir="ltr">onSkip()</code> and  <code translate="no" dir="ltr">onCorrect()</code> methods. Remove the code to update the score and instead call the corresponding <code translate="no" dir="ltr">onSkip()</code> and  <code translate="no" dir="ltr">onCorrect()</code> methods on <strong><code translate="no" dir="ltr">viewModel</code></strong>.</li>
<li>Because you moved the <code translate="no" dir="ltr">nextWord()</code> method to the <code translate="no" dir="ltr">ViewModel</code>, the game fragment can no longer access it.</li>
</ol>
<p>In <code translate="no" dir="ltr">GameFragment</code>, in the <code translate="no" dir="ltr">onSkip()</code> and <code translate="no" dir="ltr">onCorrect()</code> methods, replace the call to <code translate="no" dir="ltr">nextWord()</code> with <code translate="no" dir="ltr">updateScoreText()</code> and <code translate="no" dir="ltr">updateWordText()</code>. These methods display the data on the screen.</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private fun onSkip() {
   viewModel.onSkip()
   updateWordText()
   updateScoreText()
}
private fun onCorrect() {
   viewModel.onCorrect()
   updateScoreText()
   updateWordText()
}
</code></pre>
<ol type="1" start="3">
<li>In the <code translate="no" dir="ltr">GameFragment</code>, update the <code translate="no" dir="ltr">score</code> and <code translate="no" dir="ltr">word</code> variables to use the <code translate="no" dir="ltr">GameViewModel</code> variables, because these variables are now in the <code translate="no" dir="ltr">GameViewModel</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private fun updateWordText() {
   binding.wordText.text = viewModel.word
}

private fun updateScoreText() {
   binding.scoreText.text = viewModel.score.toString()
}
</code></pre>
<aside class="special"><p><strong>Reminder</strong>: Because the app&#39;s activities, fragments and views do not survive configuration changes, the <code translate="no" dir="ltr">ViewModel</code> should not contain references to the app&#39;s activities, fragments, or views.</p>
</aside>
<ol type="1" start="4">
<li>In the <code translate="no" dir="ltr">GameViewModel</code>, inside the  <code translate="no" dir="ltr">nextWord()</code> method, remove the calls to the <code translate="no" dir="ltr">updateWordText()</code> and <code translate="no" dir="ltr">updateScoreText()</code> methods. These methods are now being called from the <code translate="no" dir="ltr">GameFragment</code>.</li>
<li>Build the app and make sure there are no errors. If you have errors, clean and rebuild the project.</li>
<li>Run the app and play the game through some words. While you are in the game screen, rotate the device. Notice that the current score and the current word are retained after the orientation change.</li>
</ol>
<p>Great job! Now all your app&#39;s data is stored in a <code translate="no" dir="ltr">ViewModel</code>, so it is retained during configuration changes.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Implement click listener for the End Game button" duration="0">
          
          <p>In this task, you implement the click listener for the <strong>End Game</strong> button.</p>
<ol type="1">
<li>In <code translate="no" dir="ltr">GameFragment</code>, add a method called <code translate="no" dir="ltr">onEndGame()</code>. The <code translate="no" dir="ltr">onEndGame()</code> method will be called when the user taps the <strong>End Game</strong> button.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private fun onEndGame() {
   }
</code></pre>
<ol type="1" start="2">
<li>In <code translate="no" dir="ltr">GameFragment</code>, inside the <code translate="no" dir="ltr">onCreateView()</code> method, locate the code that sets click listeners for the <strong>Got It</strong> and <strong>Skip</strong> buttons. Just beneath these two lines, set a click listener for the <strong>End Game</strong> button. Use the binding variable, <code translate="no" dir="ltr">binding</code>. Inside the click listener, call the <code translate="no" dir="ltr">onEndGame()</code> method.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">binding.endGameButton.setOnClickListener { onEndGame() }
</code></pre>
<ol type="1" start="3">
<li>In <code translate="no" dir="ltr">GameFragment</code>, add a method called <code translate="no" dir="ltr">gameFinished()</code> to navigate the app to the score screen. Pass in the score as an argument, using  <a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-pass-data#Safe-args" target="_blank">Safe Args</a>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Called when the game is finished
*/
private fun gameFinished() {
   Toast.makeText(activity, &#34;Game has just finished&#34;, Toast.LENGTH_SHORT).show()
   val action = GameFragmentDirections.actionGameToScore()
   action.score = viewModel.score
   NavHostFragment.findNavController(this).navigate(action)
}
</code></pre>
<ol type="1" start="4">
<li>In the <code translate="no" dir="ltr">onEndGame()</code> method, call the <code translate="no" dir="ltr">gameFinished()</code> method.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private fun onEndGame() {
   gameFinished()
}
</code></pre>
<ol type="1" start="5">
<li>Run the app, play the game, and cycle through some words. Tap the <strong>End Game</strong> button. Notice that the app navigates to the score screen, but the final score is not displayed. You fix this in the next task.</li>
</ol>
<table class="vertical-rules">
<tr><td colspan="1" rowspan="1"><p class="image-container"><img src="/codelabs/kotlin-android-training-view-model/img/4a55de91693fc5e7.png"></p>
</td><td colspan="1" rowspan="1"><p class="image-container"><img src="/codelabs/kotlin-android-training-view-model/img/c7e1871f56b1f865.png"></p>
</td></tr>
</table>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Use a ViewModelFactory" duration="0">
          
          <p>When the user ends the game, the <code translate="no" dir="ltr">ScoreFragment</code> does not show the score. You want a <code translate="no" dir="ltr">ViewModel</code> to hold the score to be displayed by the <code translate="no" dir="ltr">ScoreFragment</code>. You&#39;ll pass in the score value during the <code translate="no" dir="ltr">ViewModel</code> initialization using the  <a href="https://en.wikipedia.org/wiki/Factory_method_pattern" target="_blank">factory method pattern</a>.</p>
<p>The <em>factory method pattern</em> is a  <a href="https://en.wikipedia.org/wiki/Creational_pattern" target="_blank">creational design pattern</a> that uses factory methods to create objects. A <em>factory method</em> is a method that returns an instance of the same class.</p>
<p>In this task, you create a <code translate="no" dir="ltr">ViewModel</code> with a parameterized constructor for the score fragment and a factory method to instantiate the <code translate="no" dir="ltr">ViewModel</code>.</p>
<ol type="1">
<li>Under the <code translate="no" dir="ltr">score</code> package, create a new Kotlin class called <code translate="no" dir="ltr">ScoreViewModel</code>. This class will be the <code translate="no" dir="ltr">ViewModel</code> for the score fragment.</li>
<li>Extend the <code translate="no" dir="ltr">ScoreViewModel</code> class from <code translate="no" dir="ltr">ViewModel.</code> Add a constructor parameter for the final score. Add an <code translate="no" dir="ltr">init</code> block with a log statement.</li>
<li>In the <code translate="no" dir="ltr">ScoreViewModel</code> class, add a variable called <code translate="no" dir="ltr">score</code> to save the final score.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class ScoreViewModel(finalScore: Int) : ViewModel() {
   // The final score
   var score = finalScore
   init {
       Log.i(&#34;ScoreViewModel&#34;, &#34;Final score is $finalScore&#34;)
   }
}
</code></pre>
<ol type="1" start="4">
<li>Under the <code translate="no" dir="ltr">score</code> package, create another Kotlin class called <code translate="no" dir="ltr">ScoreViewModelFactory</code>. This class will be responsible for instantiating the <code translate="no" dir="ltr">ScoreViewModel</code> object.</li>
<li>Extend the <code translate="no" dir="ltr">ScoreViewModelFactory</code> class from <code translate="no" dir="ltr">ViewModelProvider.Factory</code>. Add a constructor parameter for the final score.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class ScoreViewModelFactory(private val finalScore: Int) : ViewModelProvider.Factory {
}
</code></pre>
<ol type="1" start="6">
<li>In <code translate="no" dir="ltr">ScoreViewModelFactory</code>, Android Studio shows an error about an unimplemented abstract member. To resolve the error, override the <code translate="no" dir="ltr">create()</code> method. In the <code translate="no" dir="ltr">create()</code> method, return the newly constructed <code translate="no" dir="ltr">ScoreViewModel</code> object.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {
   if (modelClass.isAssignableFrom(ScoreViewModel::class.java)) {
       return ScoreViewModel(finalScore) as T
   }
   throw IllegalArgumentException(&#34;Unknown ViewModel class&#34;)
}
</code></pre>
<ol type="1" start="7">
<li>In <code translate="no" dir="ltr">ScoreFragment</code>, create class variables for <code translate="no" dir="ltr">ScoreViewModel</code> and <code translate="no" dir="ltr">ScoreViewModelFactory</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private lateinit var viewModel: ScoreViewModel
private lateinit var viewModelFactory: ScoreViewModelFactory
</code></pre>
<ol type="1" start="8">
<li>In <code translate="no" dir="ltr">ScoreFragment</code>, inside <code translate="no" dir="ltr">onCreateView()</code>, after initializing the <code translate="no" dir="ltr">binding</code> variable, initialize the <strong><code translate="no" dir="ltr">viewModelFactory</code></strong>. Use the <code translate="no" dir="ltr">ScoreViewModelFactory</code>. Pass in the final score from the argument bundle, as a constructor parameter to the <code translate="no" dir="ltr">ScoreViewModelFactory()</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">viewModelFactory = ScoreViewModelFactory(ScoreFragmentArgs.fromBundle(requireArguments()).score)
</code></pre>
<ol type="1" start="9">
<li>In <code translate="no" dir="ltr">onCreateView(</code>), after initializing <strong><code translate="no" dir="ltr">viewModelFactory</code></strong>, initialize the <strong><code translate="no" dir="ltr">viewModel</code></strong> object. Call the <code translate="no" dir="ltr">ViewModelProvider.get()</code> method, pass in the associated score fragment context and <strong><code translate="no" dir="ltr">viewModelFactory</code></strong>. This will create the <code translate="no" dir="ltr">ScoreViewModel</code> object using the factory method defined in the <strong><code translate="no" dir="ltr">viewModelFactory</code></strong> class<code translate="no" dir="ltr">.</code></li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">viewModel = ViewModelProvider(this, viewModelFactory)
       .get(ScoreViewModel::class.java)
</code></pre>
<ol type="1" start="10">
<li>In <code translate="no" dir="ltr">onCreateView()</code> method, after initializing the <strong><code translate="no" dir="ltr">viewModel</code></strong>, set the text of the <code translate="no" dir="ltr">scoreText</code> view to the final score defined in the <code translate="no" dir="ltr">ScoreViewModel</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">binding.scoreText.text = viewModel.score.toString()
</code></pre>
<ol type="1" start="11">
<li>Run your app and play the game. Cycle through some or all the words and tap <strong>End Game</strong>. Notice that the score fragment now displays the final score.</li>
</ol>
<p class="image-container"><img alt="c6dbcc9f154d8753.png" style="width: 270.00px" src="/codelabs/kotlin-android-training-view-model/img/c6dbcc9f154d8753.png"></p>
<ol type="1" start="12">
<li>Optional: Check the <code translate="no" dir="ltr">ScoreViewModel</code> logs in the Logcat by filtering on <code translate="no" dir="ltr">ScoreViewModel</code>. The score value should be displayed.</li>
</ol>
<pre translate="no" dir="ltr">2019-02-07 10:50:18.328 com.example.android.guesstheword I/ScoreViewModel: Final score is 15
</pre>
<aside class="special"><p><strong>Note</strong>: In this app, it&#39;s not necessary to add a <code translate="no" dir="ltr">ViewModelFactory</code> for the <code translate="no" dir="ltr">ScoreViewModel</code>, because you can assign the score directly to the <code translate="no" dir="ltr">viewModel.score</code> variable. But sometimes you need the data right when the <code translate="no" dir="ltr">viewModel</code> is initialized.</p>
</aside>
<p>In this task, you implemented <code translate="no" dir="ltr">ScoreFragment</code> to use <code translate="no" dir="ltr">ViewModel</code>. You also learned how to create a parameterized constructor for a <code translate="no" dir="ltr">ViewModel</code> using the <code translate="no" dir="ltr">ViewModelFactory</code> interface.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Solution code" duration="0">
          
          <p>Congratulations! You changed the architecture of your app to use one of the Android Architecture Components, <code translate="no" dir="ltr">ViewModel</code>. You resolved the app&#39;s lifecycle issue, and now the game&#39;s data survives configuration changes. You also learned how to create a parameterized constructor for creating a <code translate="no" dir="ltr">ViewModel</code>, using the <code translate="no" dir="ltr">ViewModelFactory</code> interface.</p>
<p>Android Studio project:  <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/tree/master/GuessTheWordViewModel" target="_blank">GuessTheWord</a></p>


        </google-codelab-step>
      
        <google-codelab-step label="Summary" duration="0">
          
          <ul>
<li>The Android  <a href="https://developer.android.com/jetpack/docs/guide" target="_blank">app architecture</a> guidelines recommend separating classes that have different responsibilities.</li>
<li>A <em>UI controller</em> is UI-based class like  <a href="https://developer.android.com/reference/android/app/Activity.html" target="_blank"><code translate="no" dir="ltr">Activity</code></a> or  <a href="https://developer.android.com/reference/android/app/Fragment.html" target="_blank"><code translate="no" dir="ltr">Fragment</code></a>. UI controllers should only contain logic that handles UI and operating system interactions; they shouldn&#39;t contain data to be displayed in the UI. Put that data in a <code translate="no" dir="ltr">ViewModel</code>.</li>
<li>The  <a href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html" target="_blank"><code translate="no" dir="ltr">ViewModel</code></a> class stores and manages UI-related data. The <code translate="no" dir="ltr">ViewModel</code> class allows data to survive configuration changes such as screen rotations.</li>
<li><code translate="no" dir="ltr">ViewModel</code> is one of the recommended  <a href="https://developer.android.com/jetpack/#architecture-components" target="_blank">Android Architecture Components</a>.</li>
<li><code translate="no" dir="ltr">ViewModelProvider.Factory</code> is an interface you can use to create a <code translate="no" dir="ltr">ViewModel</code> object.</li>
</ul>
<p>The table below compares UI controllers with the <code translate="no" dir="ltr">ViewModel</code> instances that hold data for them:</p>
<table class="vertical-rules">
<tr><td colspan="1" rowspan="1"><p><strong>UI controller</strong></p>
</td><td colspan="1" rowspan="1"><p><strong>ViewModel</strong></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>An example of a UI controller is the <code translate="no" dir="ltr">ScoreFragment</code> that you created in this codelab.</p>
</td><td colspan="1" rowspan="1"><p>An example of a <code translate="no" dir="ltr">ViewModel</code> is the <code translate="no" dir="ltr">ScoreViewModel</code> that you created in this codelab.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Doesn&#39;t contain any data to be displayed in the UI.</p>
</td><td colspan="1" rowspan="1"><p>Contains data that the UI controller displays in the UI.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Contains code for displaying data, and user-event code such as click listeners.</p>
</td><td colspan="1" rowspan="1"><p>Contains code for data processing.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Destroyed and re-created during every configuration change.</p>
</td><td colspan="1" rowspan="1"><p>Destroyed only when the associated UI controller goes away permanently—for an activity, when the activity finishes, or for a fragment, when the fragment is detached.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Contains views.</p>
</td><td colspan="1" rowspan="1"><p>Should never contain references to activities, fragments, or views, because they don&#39;t survive configuration changes, but the <code translate="no" dir="ltr">ViewModel</code> does.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Contains a reference to the associated <code translate="no" dir="ltr">ViewModel</code>.</p>
</td><td colspan="1" rowspan="1"><p>Doesn&#39;t contain any reference to the associated UI controller.</p>
</td></tr>
</table>


        </google-codelab-step>
      
        <google-codelab-step label="Learn more" duration="0">
          
          <p>Udacity course:</p>
<ul>
<li><a href="https://www.udacity.com/course/developing-android-apps-with-kotlin--ud9012" target="_blank">Developing Android Apps with Kotlin</a></li>
</ul>
<p>Android developer documentation:</p>
<ul>
<li><a href="https://developer.android.com/topic/libraries/architecture/viewmodel" target="_blank">ViewModel Overview</a></li>
<li><a href="https://developer.android.com/topic/libraries/architecture/lifecycle" target="_blank">Handling Lifecycles with Lifecycle-Aware Components</a></li>
<li><a href="https://developer.android.com/jetpack/docs/guide" target="_blank">Guide to app architecture</a></li>
<li><a href="https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider" target="_blank"><code translate="no" dir="ltr">ViewModelProvider</code></a></li>
<li><a href="https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider.Factory" target="_blank"><code translate="no" dir="ltr">ViewModelProvider.Factory</code></a></li>
</ul>
<p>Other:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank">MVVM</a> (model-view-viewmodel) architectural pattern.</li>
<li><a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank">Separation of concerns</a> (SoC) design principle</li>
<li><a href="https://en.wikipedia.org/wiki/Factory_method_pattern" target="_blank">Factory method pattern</a></li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Homework" duration="0">
          
          <p>This section lists possible homework assignments for students who are working through this codelab as part of a course led by an instructor. It&#39;s up to the instructor to do the following:</p>
<ul>
<li>Assign homework if required.</li>
<li>Communicate to students how to submit homework assignments.</li>
<li>Grade the homework assignments.</li>
</ul>
<p>Instructors can use these suggestions as little or as much as they want, and should feel free to assign any other homework they feel is appropriate.</p>
<p>If you&#39;re working through this codelab on your own, feel free to use these homework assignments to test your knowledge.</p>
<h2 is-upgraded id="answer-these-questions" data-text="Answer these questions"><strong>Answer these questions</strong></h2>
<h3 is-upgraded id="question-1" data-text="Question 1"><strong>Question 1</strong></h3>
<p>To avoid losing data during a device-configuration change, you should save app data in which class?</p>
<ul>
<li><code translate="no" dir="ltr">ViewModel</code></li>
<li><code translate="no" dir="ltr">LiveData</code></li>
<li><code translate="no" dir="ltr">Fragment</code></li>
<li><code translate="no" dir="ltr">Activity</code></li>
</ul>
<h3 is-upgraded id="question-2" data-text="Question 2"><strong>Question 2</strong></h3>
<p>A <code translate="no" dir="ltr">ViewModel</code> should never contain any references to fragments, activities, or views. True or false?</p>
<ul>
<li>True</li>
<li>False</li>
</ul>
<h3 is-upgraded id="question-3" data-text="Question 3"><strong>Question 3</strong></h3>
<p>When is a <code translate="no" dir="ltr">ViewModel</code> destroyed?</p>
<ul>
<li>When the associated UI controller is destroyed and recreated during a device-orientation change.</li>
<li>In an orientation change.</li>
<li>When the associated UI controller is finished (if it&#39;s an activity) or detached (if it&#39;s a fragment).</li>
<li>When the user presses the Back button.</li>
</ul>
<h3 is-upgraded id="question-4" data-text="Question 4"><strong>Question 4</strong></h3>
<p>What is the <code translate="no" dir="ltr">ViewModelFactory</code> interface for?</p>
<ul>
<li>Instantiating a <code translate="no" dir="ltr">ViewModel</code> object.</li>
<li>Retaining data during orientation changes.</li>
<li>Refreshing the data being displayed on the screen.</li>
<li>Receiving notifications when the app data is changed.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Next codelab" duration="0">
          
          <p>Start the next lesson:  <a href="https://codelabs.developers.google.com/codelabs/kotlin-android-training-live-data" target="_blank"><paper-button class="colored" raised>LiveData and LiveData observers</paper-button></a></p>
<p>For links to other codelabs in this course, see the  <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>


        </google-codelab-step>
      
    </google-codelab>
  
    

    
  </div>

  

  
    
    
    
  

  
  
</article>




            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promosi">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//twitter.com/AndroidDev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer Twitter Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="/_static/android/images/logo-twitter.svg"
             loading="lazy"
             alt="Twitter">
        
        Twitter
      </a>
      <div class="devsite-footer-promo-description">Ikuti @AndroidDev di Twitter</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer YouTube Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png"
             loading="lazy"
             alt="YouTube">
        
        YouTube
      </a>
      <div class="devsite-footer-promo-description">Lihat Developer Android di YouTube</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Link footer">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Selengkapnya tentang Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Android
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Enterprise
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Keamanan
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Source
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dukungan</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Laporkan bug platform
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Laporkan bug dokumentasi
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Google Play support
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://google.qualtrics.com/jfe/form/SV_ewWXIoEVLBcyp7f??reserved=1&amp;utm_source=FooterLink&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=developer.android.com&amp;utm_term=0&amp;utm_content=0&amp;productTag=reg&amp;campaignDate=may19&amp;pType=devel&amp;referral_code=gV420370"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Bergabung dengan studi riset
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dokumentasi</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Panduan developer
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/design"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Panduan desain
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Referensi API
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/samples"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Sampel
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Android Studio
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Situs Google Developers lain">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <img class="devsite-footer-sites-logo"
           src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup-developers.svg"
           loading="lazy"
           alt="Google Developers">
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          Semua produk
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Link utilitas">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privasi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          Lisensi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/distribute/marketing-tools/brand-guidelines"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          Pedoman brand
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Dapatkan berita dan tips melalui email</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/updates"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          Berlangganan
        </a>
        
      </li>
      
    </ul>
    
    
    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    
<devsite-snackbar 
                  ></devsite-snackbar>

    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe>
      
        <script type="application/json" analytics>[{"gaid": "UA-5831155-1", "dimensions": {"dimension1": "Signed In", "dimension4": "Developer Android", "dimension3": false, "dimension6": "en", "dimension11": false, "dimension5": "id"}, "metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}}]</script>
<script type="application/json" gtm>{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "id", "served": "en"}, "pageType": "codelab", "projectName": "Developer Android", "signedIn": "True", "tenant": "android", "recommendations": {"sourcePage": "", "sourceType": 0, "sourceRank": 0, "sourceIdenticalDescriptions": 0, "sourceTitleWords": 0, "sourceDescriptionWords": 0, "experiment": ""}}, "tags": ["GTM-KMSWPCJ"]}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
<android-fully-clickable target=".fully-clickable" watch="devsite-content"></android-fully-clickable>
    <script nonce="7UbXshcOXrq2CYgP5SPO4Y5AZkCdF8">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/js/app_loader.js', '[3,"id",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,40,50,63,70,75,76,80,87,88,91,92,93,97,98,100,101,102,103,104,105,107,108,111,112,113,115,117,118,120,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,138,147,148],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg"]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>