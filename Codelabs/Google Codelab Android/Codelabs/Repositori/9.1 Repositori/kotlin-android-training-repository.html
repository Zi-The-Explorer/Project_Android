<!doctype html>
<html 
      lang="id"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="robots" content="noindex"><meta name="theme-color" content="#3ddc84"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/kotlin-android-training-repository?hl=id"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml">
      

<title>Android Kotlin Fundamentals: Repository &nbsp;|&nbsp; Developer Android</title>

<meta property="og:title" content="Android Kotlin Fundamentals: Repository &nbsp;|&nbsp; Developer Android"><meta name="description" content="Learn how to add a repository to abstract the data layer and provide a clean API to the rest of the app in your Android Kotlin app.">
  <meta property="og:description" content="Learn how to add a repository to abstract the data layer and provide a clean API to the rest of the app in your Android Kotlin app."><meta property="og:url" content="https://developer.android.com/codelabs/kotlin-android-training-repository?hl=id"><meta property="og:image" content="https://developer.android.com/images/social/android-developers.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image">
  <meta name="xsrf_token" content="IshsRAQmBdeV2QfYvqpyb69Eyuu0bK5h34J-G4ulTvE6MTYyNzQ4Mjg5MjQzNjM3OQ">
  

  <meta name="session_expiry" content="1627483460">
  
    
    
    
    
    
    
      
    
    <meta name="original_source" content="https://docs.google.com/document/d/184HwVJzisE4bMpdJvgqaoolxMm0q48MvA7ToSnBLPtM/edit" />
    
    
    
    
    
      
    
    
      
    
    
  

    </head>
  <body class="devsite-full-width-page"
        template="codelab"
        theme="android-theme"
        type="codelab"
        
        layout="full"
        
        
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header>
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo"
       alt="Android Developers">

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Tab atas">
      
        
          <tab  >
            <a href="https://developer.android.com/about"
   class="gc-analytics-event "
   track-type="nav"
   track-name="platform"
   track-metadata-eventdetail="https://developer.android.com/about"
   track-metadata-position="nav - platform"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Platform"
   >
  Platform
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/studio"
   class="gc-analytics-event "
   track-type="nav"
   track-name="android studio"
   track-metadata-eventdetail="https://developer.android.com/studio"
   track-metadata-position="nav - android studio"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Android Studio"
   >
  Android Studio
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/distribute"
   class="gc-analytics-event "
   track-type="nav"
   track-name="google play"
   track-metadata-eventdetail="https://developer.android.com/distribute"
   track-metadata-position="nav - google play"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Google Play"
   >
  Google Play
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/jetpack"
   class="gc-analytics-event "
   track-type="nav"
   track-name="jetpack"
   track-metadata-eventdetail="https://developer.android.com/jetpack"
   track-metadata-position="nav - jetpack"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Jetpack"
   >
  Jetpack
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/kotlin"
   class="gc-analytics-event "
   track-type="nav"
   track-name="kotlin"
   track-metadata-eventdetail="https://developer.android.com/kotlin"
   track-metadata-position="nav - kotlin"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Kotlin"
   >
  Kotlin
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/docs"
   class="gc-analytics-event "
   track-type="nav"
   track-name="dokumen"
   track-metadata-eventdetail="https://developer.android.com/docs"
   track-metadata-position="nav - dokumen"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Dokumen"
   >
  Dokumen
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/news"
   class="gc-analytics-event "
   track-type="nav"
   track-name="berita"
   track-metadata-eventdetail="https://developer.android.com/news"
   track-metadata-position="nav - berita"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Berita"
   >
  Berita
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    aria-expanded="false"
    aria-haspopup="listbox"
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    project-name="Developer Android"
    tenant-name="Android Developers"
    
    
    
    
    
    role="combobox">
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Penelusuran"
          aria-haspopup="false"
          aria-multiline="false"
          aria-label="Kotak penelusuran"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Penelusuran"
          role="searchbox"
          type="text"
          value=""
          >
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Buka penelusuran"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Tutup penelusuran"></button>
</devsite-search>

        </div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>


        

        
          
          
          <devsite-user signed-in
                        
                        
                          enable-profiles
                        
                        
                          
                        id="devsite-user"></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    
      devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
      
        
      
      
    </div>
  </div>

</div>



  
</devsite-header>
      <devsite-book-nav scrollbars hidden>
        
          
























<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Menu samping">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo" alt="Android Developers">

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/about"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Platform"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="platform">
  
    <span class="devsite-nav-text" tooltip >
      Platform
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="androidStudio">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="googlePlay">
  
    <span class="devsite-nav-text" tooltip >
      Google Play
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/jetpack"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Jetpack"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="jetpack">
  
    <span class="devsite-nav-text" tooltip >
      Jetpack
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/kotlin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Kotlin"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="kotlin">
  
    <span class="devsite-nav-text" tooltip >
      Kotlin
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumen"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="dokumen">
  
    <span class="devsite-nav-text" tooltip >
      Dokumen
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/news"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Berita"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="berita">
  
    <span class="devsite-nav-text" tooltip >
      Berita
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
            >
          
          <devsite-toc class="devsite-nav"
                       role="navigation"
                       aria-label="Daftar isi"
            disabled></devsite-toc>
          <devsite-content>
            
              

















<article class="devsite-article"><style>
      body {
        transition: opacity ease-in 0.2s;
      }

      body[unresolved] {
        opacity: 0;
        display: block;
        overflow: hidden;
        position: relative;
      }
      </style>
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://developer.android.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Developer Android"
      
    >
    
        Developer Android
      
  </a>
  
    
  </li>
  
</ul>
    
  </div>
  
  
    <h1 class="devsite-page-title">Android Kotlin Fundamentals: Repository</h1><devsite-bookmark></devsite-bookmark>
  

  <devsite-toc class="devsite-nav" devsite-toc-embedded
               disabled>
  </devsite-toc>

  

  <div class="devsite-article-body clearfix
    ">

    
      
    <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
    <google-codelab codelab-gaid="UA-81734179-1"
                    doc-id="184HwVJzisE4bMpdJvgqaoolxMm0q48MvA7ToSnBLPtM"
                    id="kotlin-android-training-repository"
                    title="Android Kotlin Fundamentals: Repository"
                    environment="web"
                    category="android,kotlin"
                    feedback-link="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/issues/new?assignees=&amp;labels=&amp;template=android-kotlin-fundementals.md&amp;title=Android&#43;Kotlin&#43;Fundamentals&#43;codelab%3A&#43;"
                    >
      
        <google-codelab-step label="Welcome" duration="0">
          
            <google-codelab-about codelab-title="Android Kotlin Fundamentals: Repository"
                                  authors="Google Developers Training team"
                                  >
            </google-codelab-about>
          
          <p>This codelab is part of the Android Kotlin Fundamentals course. You&#39;ll get the most value out of this course if you work through the codelabs in sequence. All the course codelabs are listed on the  <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>
<h2 is-upgraded id="introduction" data-text="Introduction">Introduction</h2>
<p>In this codelab, you improve the user experience for an app by using offline caching. Many apps rely on data from the network. If your app fetches data from the server on every launch, the user might see a loading screen, and this might be a bad user experience. Users might uninstall your app.</p>
<p>When users launch an app, they expect the app to show data quickly. You can achieve this goal by implementing offline caching. <em>Offline caching</em> means that your app saves data fetched from the network on the device&#39;s local storage, for faster access.</p>
<p>Many users have intermittent access to the internet. By implementing offline caching, you add offline support to your app, helping these users to use your app while they are offline.</p>
<h2 is-upgraded id="what-you-should-already-know" data-text="What you should already know">What you should already know</h2>
<p>You should be familiar with:</p>
<ul>
<li>The data persistence library,  <a href="https://developer.android.com/topic/libraries/architecture/room" target="_blank"><code translate="no" dir="ltr">Room</code></a>.</li>
<li>Using the  <a href="https://square.github.io/retrofit/" target="_blank">Retrofit</a> networking library.</li>
<li>The basic  <a href="https://developer.android.com/jetpack/#architecture-components" target="_blank">Android Architecture Components</a>, <code translate="no" dir="ltr">ViewModel</code>, <code translate="no" dir="ltr">ViewModelFactory</code>, and <code translate="no" dir="ltr">LiveData</code>.</li>
<li>Transformations for a  <a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html" target="_blank"><code translate="no" dir="ltr">LiveData</code></a> class.</li>
<li>Building and launching a  <a href="https://kotlinlang.org/docs/reference/coroutines/basics.html" target="_blank">coroutine</a>.</li>
<li><a href="https://developer.android.com/topic/libraries/data-binding/binding-adapters" target="_blank">Binding adapters</a> in data binding.</li>
</ul>
<h2 class="checklist" is-upgraded id="what-youll-learn" data-text="What you'll learn">What you'll learn</h2>
<ul class="checklist">
<li>How to use a <code translate="no" dir="ltr">Room</code> database to create an offline cache.</li>
<li>How to implement a repository to abstract an app&#39;s data layer from the rest of the app.</li>
<li>How to load cached data using a repository.</li>
</ul>
<h2 is-upgraded id="what-youll-do" data-text="What you'll do">What you'll do</h2>
<ul>
<li>Implement a local database using <code translate="no" dir="ltr">Room</code>.</li>
<li>Fetch data from the network and cache the data in the database.</li>
<li>Use a repository to abstract the data layer, and integrate the repository class with the <code translate="no" dir="ltr">ViewModel</code>.</li>
<li>Display data from the offline cache.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="App overview" duration="0">
          
          <p>The DevBytes app displays a list of DevByte videos, which are short tutorials made by the  <a href="https://www.youtube.com/channel/UCVHFbqXqoYvEWM1Ddxl0QDg" target="_blank">Google Android developer relations team</a>. The videos introduce developer features and best practices for Android development.</p>
<p>The DevBytes starter app fetches a list of video URLs from the network using the  <a href="https://square.github.io/retrofit/" target="_blank">Retrofit</a> library and displays the list using a <code translate="no" dir="ltr">RecyclerView</code>. The app uses <code translate="no" dir="ltr">ViewModel</code> and <code translate="no" dir="ltr">LiveData</code> to hold the data and update the UI. The app&#39;s architecture is similar to apps you developed previously in this course.</p>
<p class="image-container"><img alt="30ee74d946a2f6ca.png" style="width: 270.00px" src="/codelabs/kotlin-android-training-repository/img/30ee74d946a2f6ca.png"></p>
<p>The starter app is online-only, so the user needs a network connection to use it. In this codelab, you implement offline caching to display results from the local database, instead of from the network. Your users will be able to use the app while their device is offline, or if they have a slow network connection.</p>
<p>To implement the offline cache, you use a  <a href="https://developer.android.com/topic/libraries/architecture/room" target="_blank"><code translate="no" dir="ltr">Room</code></a> database to make fetched data persistent in the device&#39;s local storage. You access and manage the <code translate="no" dir="ltr">Room</code> database using a <em>repository pattern</em>, which is a design pattern that isolates data sources from the rest of the app. This technique provides a clean API for the rest of the app to use for accessing the data.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Setup and starter code walkthrough" duration="0">
          
          <p>In this task, you download and inspect the starter code for the DevBytes app.</p>
<h2 is-upgraded id="step-1:-download-and-run-the-starter-app" data-text="Step 1: Download and run the starter app">Step 1: Download and run the starter app</h2>
<ol type="1">
<li>Download the  <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/tree/master/DevBytes-starter" target="_blank">DevBytes starter</a> code from GitHub..</li>
<li>Unzip the code and open the project in Android Studio.</li>
<li>Connect your test device or emulator to the internet, if it is not already connected. Build and run the app. The app fetches a list of DevByte videos from the network and displays them.</li>
<li>In the app, click any video to open it in the YouTube app.</li>
<li>Enable airplane mode on your device or emulator.</li>
<li>Run the app again, and notice the network-error toast message.</li>
</ol>
<p class="image-container"><img alt="3388360b2a512f7a.png" style="width: 271.99px" src="/codelabs/kotlin-android-training-repository/img/3388360b2a512f7a.png"></p>
<p>When airplane mode is off, you might see a spinning progress bar if your internet connection is slow, because this is an online-only app. If you don&#39;t see the spinning progress bar, implement the next step to add network delay programmatically. This will help you see what the app experience is like for users with slow connections, and why offline caching is important for this app.</p>
<h2 is-upgraded id="step-2:-optional-simulate-network-delay" data-text="Step 2: (Optional) Simulate network delay">Step 2: (Optional) Simulate network delay</h2>
<p>If the internet connection for your emulator or device is good and you don&#39;t notice the spinning progress bar, simulate the delay in network response using the function <code translate="no" dir="ltr">delay()</code>. To learn more about the <code translate="no" dir="ltr">delay()</code> function, see  <a href="https://kotlinlang.org/docs/tutorials/coroutines/coroutines-basic-jvm.html" target="_blank">Your first coroutine with Kotlin</a>.</p>
<ol type="1">
<li>Make sure airplane mode is off in your device or emulator.</li>
<li>In <code translate="no" dir="ltr">DevByteViewModel</code>, inside <code translate="no" dir="ltr">refreshDataFromNetwork()</code>, at the beginning of the <code translate="no" dir="ltr">catch</code> block, add a 2-second delay. This delay code will delay setting the network error.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private fun refreshDataFromNetwork() = viewModelScope.launch {

   try {
        ...
   } catch (networkError: IOException) {
       delay(2000)
       // Show a Toast error message and hide the progress bar.
       _eventNetworkError.value = true
   }
}
</code></pre>
<ol type="1" start="3">
<li>Run the app again. Now you see a loading spinner and the network-error toast message. The loading spinner is what your users might see if they have slow network connections. After you implement offline caching, this user experience will improve.</li>
</ol>
<p class="image-container"><img alt="2cf359e25e5eb8dd.png" style="width: 270.00px" src="/codelabs/kotlin-android-training-repository/img/2cf359e25e5eb8dd.png"></p>
<ol type="1" start="4">
<li>Remove the delay statement, <em><code translate="no" dir="ltr">delay</code></em><code translate="no" dir="ltr">(2000)</code>, which you added in a previous step.</li>
</ol>
<h2 is-upgraded id="step-3:-explore-the-code" data-text="Step 3: Explore the code">Step 3: Explore the code</h2>
<p>This starter app comes with a lot of code, in particular all the networking and user interface modules, so that you can focus on the repository module of the app.</p>
<ol type="1">
<li>In Android Studio, expand all the packages.</li>
<li>Explore the <code translate="no" dir="ltr">domain</code> package. This package contains <code translate="no" dir="ltr">data</code> classes for representing the app&#39;s data. For example, the <code translate="no" dir="ltr">DevByteVideo</code> data class in <code translate="no" dir="ltr">domain/Models.kt</code> class represents a single DevByte video.</li>
<li>Explore the <code translate="no" dir="ltr">network</code> package.</li>
</ol>
<p>The <code translate="no" dir="ltr">network/DataTransferObjects.kt</code> class contains the data class for a  <a href="https://en.wikipedia.org/wiki/Data_transfer_object" target="_blank">data transfer object</a> called <code translate="no" dir="ltr">NetworkVideo</code>. The data transfer object is used to parse the network result. This file also contains a convenience method, <code translate="no" dir="ltr">asDomainModel()</code>, to convert network results to a list of domain objects. The data transfer objects are different from the domain objects, because they contain extra logic for parsing network results.</p>
<aside class="special"><p><strong>Tip:</strong> It&#39;s a best practice to separate the network, domain, and database objects. This strategy follows the  <a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank">separation of concerns</a> principle. If the network response or the database schema changes, you want to be able to change and manage app components without updating the entire app&#39;s code.</p>
</aside>
<ol type="1" start="4">
<li>Try exploring the rest of starter code on your own.</li>
</ol>
<p>The rest of the apps&#39; architecture is similar to the other apps used in the previous codelabs:</p>
<ul>
<li>The Retrofit service, <code translate="no" dir="ltr">network/Service.kt</code>, fetches the <code translate="no" dir="ltr">devbytes</code> playlist from the network.</li>
<li>The <code translate="no" dir="ltr">DevByteViewModel</code> holds the app data as <code translate="no" dir="ltr">LiveData</code> objects.</li>
<li>The UI controller, <code translate="no" dir="ltr">DevByteFragment</code>, contains a <code translate="no" dir="ltr">RecyclerView</code> to display the video list and the observers for the <code translate="no" dir="ltr">LiveData</code> objects.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Concept: Caching" duration="0">
          
          <p>After an app fetches data from the network, the app can  <a href="https://searchstorage.techtarget.com/definition/cache" target="_blank">cache</a> the data by storing the data in a device&#39;s storage. You cache data so that you can access it later when the device is offline, or if you want to access the same data again.</p>
<p>The following table shows several ways to implement network caching in Android. In this codelab, you use <code translate="no" dir="ltr">Room</code>, because it&#39;s the recommended way to store structured data on a device file system.</p>
<table class="vertical-rules">
<tr><td colspan="1" rowspan="1"><p><strong>Caching technique</strong></p>
</td><td colspan="1" rowspan="1"><p><strong>Uses</strong></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p><a href="http://square.github.io/retrofit/" target="_blank"><code translate="no" dir="ltr">Retrofit</code></a> is a networking library used to implement a type-safe REST client for Android. You can configure Retrofit to store a copy of every network result locally.</p>
</td><td colspan="1" rowspan="1"><p>Good solution for simple requests and responses, infrequent network calls, or small datasets.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>You can use <code translate="no" dir="ltr">SharedPreferences</code> to store key-value pairs.</p>
</td><td colspan="1" rowspan="1"><p>Good solution for a small number of keys and simple values. You can&#39;t use this technique to store large amounts of structured data.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>You can access the app&#39;s internal storage directory and save data files in it. Your app&#39;s package name specifies the app&#39;s internal storage directory, which is in a special location in the Android file system. This directory is private to your app, and it is cleared when your app is uninstalled.</p>
</td><td colspan="1" rowspan="1"><p>Good solution if you have specific needs that a file system can solve—for example, if you need to save media files or data files and you have to manage the files yourself. You can&#39;t use this technique to store complex and structured data.</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>You can cache data using <a href="https://developer.android.com/topic/libraries/architecture/room" target="_blank"><code translate="no" dir="ltr">Room</code></a>, which is an SQLite object-mapping library that provides an abstraction layer over SQLite.</p>
</td><td colspan="1" rowspan="1"><p>Recommended solution for complex and structured data, because the best way to store structured data on a device&#39;s file system is in a local SQLite database.</p>
</td></tr>
</table>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Add an offline cache" duration="0">
          
          <p>In this task, you add a <code translate="no" dir="ltr">Room</code> database to your app to use as an offline cache.</p>
<aside class="special"><p><strong>Key concept:</strong> Don&#39;t retrieve data from the network every time the app is launched. Instead, display data that you fetch from the database. This technique decreases app-loading time.</p>
</aside>
<p class="image-container"><img alt="e23d9d1fb048f343.png" style="width: 624.00px" src="/codelabs/kotlin-android-training-repository/img/e23d9d1fb048f343.png"></p>
<p>When the app fetches data from the network, store the data in the database instead of displaying the data immediately.</p>
<p>When a new network result is received, update the local database and display the new content on the screen from the local database. This technique ensures that the offline cache is always up-to-date. Also, if the device is offline, your app can still load locally cached data.</p>
<h2 is-upgraded id="step-1:-add-the-room-dependency" data-text="Step 1: Add the Room dependency">Step 1: Add the Room dependency</h2>
<ol type="1">
<li>Open the <code translate="no" dir="ltr">build.gradle (Module:app)</code> file and add the <code translate="no" dir="ltr">Room</code> dependency to the project.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">// Room dependency
def room_version = &#34;2.1.0-alpha06&#34;
implementation &#34;androidx.room:room-runtime:$room_version&#34;
kapt &#34;androidx.room:room-compiler:$room_version&#34;
</code></pre>
<h2 is-upgraded id="step-2:-add-database-object" data-text="Step 2: Add database object">Step 2: Add database object</h2>
<p>In this step, you create a database entity named <code translate="no" dir="ltr">DatabaseVideo</code> to represent database objects. You also implement convenience methods to convert <code translate="no" dir="ltr">DatabaseVideo</code> objects into domain objects, and to convert network objects into <code translate="no" dir="ltr">DatabaseVideo</code> objects.</p>
<ol type="1">
<li>Open <code translate="no" dir="ltr">database/DatabaseEntities.kt</code> and create a <code translate="no" dir="ltr">Room</code> entity called <code translate="no" dir="ltr">DatabaseVideo</code>.  Set <code translate="no" dir="ltr">url</code> as the primary key. The DevBytes server design ensures that the video URL is always unique.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* DatabaseVideo represents a video entity in the database.
*/
@Entity
data class DatabaseVideo constructor(
       @PrimaryKey
       val url: String,
       val updated: String,
       val title: String,
       val description: String,
       val thumbnail: String)
</code></pre>
<ol type="1" start="2">
<li>In <code translate="no" dir="ltr">database/DatabaseEntities.kt</code>, create an extension function called <code translate="no" dir="ltr">asDomainModel()</code>. Use the function to convert <code translate="no" dir="ltr">DatabaseVideo</code> database objects into domain objects.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Map DatabaseVideos to domain entities
*/
fun List&lt;DatabaseVideo&gt;.asDomainModel(): List&lt;DevByteVideo&gt; {
   return map {
       DevByteVideo(
               url = it.url,
               title = it.title,
               description = it.description,
               updated = it.updated,
               thumbnail = it.thumbnail)
   }
}
</code></pre>
<p>In this sample app, the conversion is simple, and some of this code isn&#39;t necessary.  But in a real-world app, the structure of the domain, database, and network objects will be different. You&#39;ll need conversion logic, which can get complicated.</p>
<ol type="1" start="3">
<li>Open <code translate="no" dir="ltr">network/DataTransferObjects.kt</code> and create an extension function called <code translate="no" dir="ltr">asDatabaseModel()</code>. Use the function to convert network objects into <code translate="no" dir="ltr">DatabaseVideo</code> database objects.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Convert Network results to database objects
*/
fun NetworkVideoContainer.asDatabaseModel(): List&lt;DatabaseVideo&gt; {
   return videos.map {
       DatabaseVideo(
               title = it.title,
               description = it.description,
               url = it.url,
               updated = it.updated,
               thumbnail = it.thumbnail)
   }
}
</code></pre>
<h2 is-upgraded id="step-3:-add-videodao" data-text="Step 3: Add VideoDao">Step 3: Add VideoDao</h2>
<p>In this step, you implement <code translate="no" dir="ltr">VideoDao</code> and define two helper methods to access the database. One helper method gets videos from the database, and the other method inserts videos into the database.</p>
<ol type="1">
<li>In <code translate="no" dir="ltr">database/Room.kt</code>, define a <code translate="no" dir="ltr">VideoDao</code> interface and annotate is with <code translate="no" dir="ltr">@Dao</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">@Dao
interface VideoDao { 
}
</code></pre>
<ol type="1" start="2">
<li>Inside the <code translate="no" dir="ltr">VideoDao</code> interface, create a method called <code translate="no" dir="ltr">getVideos()</code> to fetch all the videos from the database. Change the return type of this method to <code translate="no" dir="ltr">LiveData</code>, so that the data displayed in the UI is refreshed whenever the data in the database is changed.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">   @Query(&#34;select * from databasevideo&#34;)
   fun getVideos(): LiveData&lt;List&lt;DatabaseVideo&gt;&gt;
</code></pre>
<p>If an <code translate="no" dir="ltr">Unresolved reference</code> error appears in Android Studio, import <code translate="no" dir="ltr">androidx.room.Query</code>.</p>
<ol type="1" start="3">
<li>Inside the <code translate="no" dir="ltr">VideoDao</code> interface, define another <code translate="no" dir="ltr">insertAll()</code> method to insert a list of videos fetched from the network into the database. For simplicity, overwrite the database entry if the video entry is already present in the database. To do this, use the <code translate="no" dir="ltr">onConflict</code> argument to set the conflict strategy to <em><code translate="no" dir="ltr">REPLACE</code></em>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">@Insert(onConflict = OnConflictStrategy.REPLACE)
fun insertAll( videos: List&lt;DatabaseVideo&gt;)
</code></pre>
<h2 is-upgraded id="step-4:-implement-roomdatabase" data-text="Step 4: Implement RoomDatabase">Step 4: Implement RoomDatabase</h2>
<p>In this step, you add the database for your offline cache by implementing  <a href="https://developer.android.com/reference/android/arch/persistence/room/RoomDatabase" target="_blank"><code translate="no" dir="ltr">RoomDatabase</code></a>.</p>
<ol type="1">
<li>In <code translate="no" dir="ltr">database/Room.kt</code>, after the <code translate="no" dir="ltr">VideoDao</code> interface, create an <code translate="no" dir="ltr">abstract</code> class called <code translate="no" dir="ltr">VideosDatabase</code>. Extend <code translate="no" dir="ltr">VideosDatabase</code> from <code translate="no" dir="ltr">RoomDatabase</code>.</li>
<li>Use the <strong><code translate="no" dir="ltr">@Database</code></strong> annotation to mark the <code translate="no" dir="ltr">VideosDatabase</code> class as a <code translate="no" dir="ltr">Room</code> database. Declare the <strong><code translate="no" dir="ltr">DatabaseVideo</code></strong> entity that belongs in this database, and set the version number to <code translate="no" dir="ltr">1</code>.</li>
<li>Inside <code translate="no" dir="ltr">VideosDatabase</code>, define a variable of the type <code translate="no" dir="ltr">VideoDao</code> to access the <code translate="no" dir="ltr">Dao</code> methods.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">@Database(entities = [DatabaseVideo::class], version = 1)
abstract class VideosDatabase: RoomDatabase() {
   abstract val videoDao: VideoDao
}
</code></pre>
<ol type="1" start="4">
<li>Create a <code translate="no" dir="ltr">private</code> <strong><code translate="no" dir="ltr">lateinit</code></strong> variable called <em><code translate="no" dir="ltr">INSTANCE</code></em> outside the classes, to hold the singleton object. The <code translate="no" dir="ltr">VideosDatabase</code> should be  <a href="https://en.wikipedia.org/wiki/Singleton_pattern" target="_blank">singleton</a> to prevent having multiple instances of the database opened at the same time.</li>
<li>Create and define a <code translate="no" dir="ltr">getDatabase()</code> method outside the classes. In <code translate="no" dir="ltr">getDatabase()</code>, initialize and return the <em><code translate="no" dir="ltr">INSTANCE</code></em> variable inside the <em><code translate="no" dir="ltr">synchronized</code></em> block.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">@Dao
interface VideoDao {
...
}
abstract class VideosDatabase: RoomDatabase() {
...
}

private lateinit var INSTANCE: VideosDatabase

fun getDatabase(context: Context): VideosDatabase {
   synchronized(VideosDatabase::class.java) {
       if (!::INSTANCE.isInitialized) {
           INSTANCE = Room.databaseBuilder(context.applicationContext,
                   VideosDatabase::class.java,
                   &#34;videos&#34;).build()
       }
   }
   return INSTANCE
}
</code></pre>
<aside class="special"><p><strong>Tip</strong>: The <em><code translate="no" dir="ltr">.</code></em><code translate="no" dir="ltr">isInitialized</code> Kotlin property returns <code translate="no" dir="ltr">true</code> if the <code translate="no" dir="ltr">lateinit</code> property (<em><code translate="no" dir="ltr">INSTANCE</code></em> in this example) has been assigned a value, and <code translate="no" dir="ltr">false</code> otherwise.</p>
</aside>
<p>Now you&#39;ve implemented the database using <code translate="no" dir="ltr">Room</code>. In the next task, you learn how to use this database using a repository pattern.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Concept: Repositories" duration="0">
          
          <h2 is-upgraded id="the-repository-pattern" data-text="The repository pattern">The repository pattern</h2>
<p>The <em>repository pattern</em> is a design pattern that isolates data sources from the rest of the app.</p>
<p>A <em>repository</em> mediates between data sources (such as persistent models, web services, and caches) and the rest of the app. The diagram below shows how app components such as activities that use <code translate="no" dir="ltr">LiveData</code> might interact with data sources by way of a repository.</p>
<p class="image-container"><img alt="69021c8142d29198.png" style="width: 624.00px" src="/codelabs/kotlin-android-training-repository/img/69021c8142d29198.png"></p>
<p>To implement a repository, you use a <em>repository class</em>, such as the <code translate="no" dir="ltr">VideosRepository</code> class that you create in the next task. The repository class isolates the data sources from the rest of the app and provides a clean API for data access to the rest of the app. Using a repository class is a recommended best practice for code separation and architecture.</p>
<h2 is-upgraded id="advantages-of-using-a-repository" data-text="Advantages of using a repository">Advantages of using a repository</h2>
<p>A repository module handles data operations and allows you to use multiple backends. In a typical real-world app, the repository implements the logic for deciding whether to fetch data from a network or use results that are cached in a local database. This helps make your code modular and testable. You can easily mock up the repository and test the rest of the code.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Create a repository" duration="0">
          
          <p>In this task, you create a repository to manage the offline cache, which you implemented in the previous task. Your <code translate="no" dir="ltr">Room</code> database doesn&#39;t have logic for managing the offline cache, it only has methods to insert and retrieve the data. The repository will have the logic to fetch the network results and to keep the database up-to-date.</p>
<h2 is-upgraded id="step-1:-add-a-repository" data-text="Step 1: Add a repository">Step 1: Add a repository</h2>
<ol type="1">
<li>In <code translate="no" dir="ltr">repository/VideosRepository.kt</code>, create a <code translate="no" dir="ltr">VideosRepository</code> class. Pass in a <code translate="no" dir="ltr">VideosDatabase</code> object as the class&#39;s constructor parameter to access the <code translate="no" dir="ltr">Dao</code> methods.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Repository for fetching devbyte videos from the network and storing them on disk
*/
class VideosRepository(private val database: VideosDatabase) {
}
</code></pre>
<ol type="1" start="2">
<li>Inside the <code translate="no" dir="ltr">VideosRepository</code> class, add a <code translate="no" dir="ltr">refreshVideos()</code> method that has no arguments and returns nothing. This method will be the API used to refresh the offline cache.</li>
<li>Make <code translate="no" dir="ltr">refreshVideos()</code> a suspend function. Because <code translate="no" dir="ltr">refreshVideos()</code> performs a database operation, it must be called from a coroutine.</li>
</ol>
<aside class="special"><p><strong>Note</strong>: Databases on Android are stored on the file system, or disk, and in order to save they must perform a disk I/O. The disk I/O, or reading and writing to disk, is slow and always blocks the current thread until the operation is complete. Because of this, you have to run the disk I/O in the  <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-i-o.html" target="_blank">I/O dispatcher</a>. This dispatcher is designed to offload blocking I/O tasks to a shared pool of threads using  <a href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/with-context.html" target="_blank"><code translate="no" dir="ltr">withContext</code></a><code translate="no" dir="ltr">(Dispatchers.IO) { ... }</code>.</p>
</aside>
<ol type="1" start="4">
<li>Inside the <code translate="no" dir="ltr">refreshVideos()</code> method, switch the coroutine context to <code translate="no" dir="ltr">Dispatchers.IO</code> to perform network and database operations.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Refresh the videos stored in the offline cache.
*
* This function uses the IO dispatcher to ensure the database insert database operation
* happens on the IO dispatcher. By switching to the IO dispatcher using `withContext` this
* function is now safe to call from any thread including the Main thread.
*
*/
suspend fun refreshVideos() {
   withContext(Dispatchers.IO) {
   }
}
</code></pre>
<ol type="1" start="5">
<li>Inside the <code translate="no" dir="ltr">withContext</code> block, fetch the DevByte video playlist from the network using the Retrofit service instance, <code translate="no" dir="ltr">DevByteNetwork</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">val playlist = DevByteNetwork.devbytes.getPlaylist()       
</code></pre>
<ol type="1" start="6">
<li>Inside the <code translate="no" dir="ltr">refreshVideos()</code> method, after fetching the playlist from the network, store the playlist in the <code translate="no" dir="ltr">Room</code> database.</li>
</ol>
<p>To store the playlist, use the <code translate="no" dir="ltr">VideosDatabase</code> object, <strong><code translate="no" dir="ltr">database</code></strong>. Call the <code translate="no" dir="ltr">insertAll</code> DAO method, passing in the <code translate="no" dir="ltr">playlist</code> retrieved from the network. Use the <code translate="no" dir="ltr">asDatabaseModel()</code> extension function to map the <code translate="no" dir="ltr">playlist</code> to the database object.</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">database.videoDao.insertAll(playlist.asDatabaseModel())
</code></pre>
<ol type="1" start="7">
<li>Here is the complete <code translate="no" dir="ltr">refreshVideos</code> method with a log statement for tracking when it gets called:</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">suspend fun refreshVideos() {
   withContext(Dispatchers.IO) {
       Timber.d(&#34;refresh videos is called&#34;);
       val playlist = DevByteNetwork.devbytes.getPlaylist()
       database.videoDao.insertAll(playlist.asDatabaseModel())
   }
}
</code></pre>
<h2 is-upgraded id="step-2:-retrieve-data-from-the-database" data-text="Step 2: Retrieve data from the database">Step 2: Retrieve data from the database</h2>
<p>In this step, you create a <code translate="no" dir="ltr">LiveData</code> object to read the video playlist from the database. This <code translate="no" dir="ltr">LiveData</code> object is automatically updated when the database is updated. The attached fragment, or the activity, is refreshed with new values.</p>
<ol type="1">
<li>In the <code translate="no" dir="ltr">VideosRepository</code> class, declare a <code translate="no" dir="ltr">LiveData</code> object called <strong><code translate="no" dir="ltr">videos</code></strong> to hold a list of <code translate="no" dir="ltr">DevByteVideo</code> objects.</li>
<li>Initialize the <strong><code translate="no" dir="ltr">videos</code></strong> object, using <strong><code translate="no" dir="ltr">database.</code></strong><code translate="no" dir="ltr">videoDao</code>. Call the <code translate="no" dir="ltr">getVideos()</code> DAO method. Because the <code translate="no" dir="ltr">getVideos()</code> method returns a list of database objects, not a list of <code translate="no" dir="ltr">DevByteVideo</code> objects, Android Studio throws a &#34;type mismatch&#34; error.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">val videos: LiveData&lt;List&lt;DevByteVideo&gt;&gt; = database.videoDao.getVideos()
</code></pre>
<ol type="1" start="3">
<li>To fix the error, use <code translate="no" dir="ltr">Transformations.map</code> to convert the list of database objects to a list of domain objects. Use the <code translate="no" dir="ltr">asDomainModel()</code> conversion function.</li>
</ol>
<aside class="special"><p><strong>Refresher</strong>: The  <a href="https://developer.android.com/reference/android/arch/lifecycle/Transformations.html#map(android.arch.lifecycle.LiveData%3CX%3E,%20android.arch.core.util.Function%3CX,%20Y%3E)" target="_blank"><code translate="no" dir="ltr">Transformations.map</code></a> method uses a conversion function to convert one <code translate="no" dir="ltr">LiveData</code> object into another <code translate="no" dir="ltr">LiveData</code> object. The transformations are only calculated when an active activity or a fragment is observing the returned <code translate="no" dir="ltr">LiveData</code> property.</p>
</aside>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">val videos: LiveData&lt;List&lt;DevByteVideo&gt;&gt; = Transformations.map(database.videoDao.getVideos()) {
   it.asDomainModel()
}
</code></pre>
<p>Now you&#39;ve implemented a repository for your app. In the next task, you use a simple refresh strategy to keep the local database up-to-date.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Integrate the repository using a refresh strategy" duration="0">
          
          <p>In this task, you integrate your repository with the <code translate="no" dir="ltr">ViewModel</code> using a simple refresh strategy. You display the video playlist from the <code translate="no" dir="ltr">Room</code> database, not directly fetching from the network.</p>
<p>A <em>database refresh</em> is a process of updating or refreshing the local database to keep it in sync with data from the network. For this sample app, you use a very simple refresh strategy, where the module that requests data from the repository is responsible for refreshing the local data.</p>
<p>In a real-world app, your strategy might be more complex. For example, your code might automatically refresh the data in the background (taking bandwidth into account), or cache the data that the user is most likely to use next.</p>
<ol type="1">
<li>In <code translate="no" dir="ltr">viewmodels/DevByteViewModel.kt</code>, inside <code translate="no" dir="ltr">DevByteViewModel</code> class, create a <code translate="no" dir="ltr">private</code> member variable called <strong><code translate="no" dir="ltr">videosRepository</code></strong> of the type <code translate="no" dir="ltr">VideosRepository</code>. Instantiate the variable by passing in the singleton <code translate="no" dir="ltr">VideosDatabase</code> object.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* The data source this ViewModel will fetch results from.
*/
private val videosRepository = VideosRepository(getDatabase(application))
</code></pre>
<ol type="1" start="2">
<li>In the <code translate="no" dir="ltr">DevByteViewModel</code> class, replace the <code translate="no" dir="ltr">refreshDataFromNetwork()</code> method with the <code translate="no" dir="ltr">refreshDataFromRepository()</code> method.</li>
</ol>
<p>The old method, <code translate="no" dir="ltr">refreshDataFromNetwork()</code>, fetched the video playlist from the network using the Retrofit library. The new method loads the video playlist from the repository.</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* Refresh data from the repository. Use a coroutine launch to run in a
* background thread.
*/
private fun refreshDataFromRepository() {
   viewModelScope.launch {
       try {
           videosRepository.refreshVideos()
           _eventNetworkError.value = false
           _isNetworkErrorShown.value = false

       } catch (networkError: IOException) {
           // Show a Toast error message and hide the progress bar.
           if(playlist.value.isNullOrEmpty())
               _eventNetworkError.value = true
       }
   }
}
</code></pre>
<ol type="1" start="3">
<li>In the <code translate="no" dir="ltr">DevByteViewModel</code> class, inside the <code translate="no" dir="ltr">init</code> block, change the function call from <code translate="no" dir="ltr">refreshDataFromNetwork()</code> to <code translate="no" dir="ltr">refreshDataFromRepository()</code>. This code fetches the video playlist from the repository, not directly from the network.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">init {
   refreshDataFromRepository()
}
</code></pre>
<ol type="1" start="4">
<li>In the <code translate="no" dir="ltr">DevByteViewModel</code> class, delete the <code translate="no" dir="ltr">_playlist</code> property and its backing property, <code translate="no" dir="ltr">playlist</code>.</li>
</ol>
<p>Code to delete:</p>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private val _playlist = MutableLiveData&lt;List&lt;Video&gt;&gt;()
...
val playlist: LiveData&lt;List&lt;Video&gt;&gt;
   get() = _playlist
</code></pre>
<ol type="1" start="5">
<li>In the <code translate="no" dir="ltr">DevByteViewModel</code> class, after instantiating the <strong><code translate="no" dir="ltr">videosRepository</code></strong> object, add a new <code translate="no" dir="ltr">val</code> called <code translate="no" dir="ltr">playlist</code> for holding a <code translate="no" dir="ltr">LiveData</code> list of videos from the repository.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">/**
* A playlist of videos displayed on the screen.
*/
val playlist = videosRepository.videos
</code></pre>
<ol type="1" start="6">
<li>Run your app. The app runs as before, but now the DevBytes playlist is fetched from the network and saved in the <code translate="no" dir="ltr">Room</code> database. The playlist is displayed on the screen from the <code translate="no" dir="ltr">Room</code> database, not directly from the network.</li>
</ol>
<p class="image-container"><img alt="30ee74d946a2f6ca.png" style="width: 270.00px" src="/codelabs/kotlin-android-training-repository/img/30ee74d946a2f6ca.png"></p>
<ol type="1" start="7">
<li>To notice the difference, enable airplane mode on the emulator or device.</li>
<li>Run the app once again. Notice that the &#34;Network Error&#34; toast message is not displayed, instead the playlist is fetched from the offline cache and displayed.</li>
<li>Turn off airplane mode in the emulator or device.</li>
<li>Close and re-open the app. The app loads the playlist from the offline cache, while the network request runs in the background.</li>
</ol>
<p>If new data came in from the network, the screen would automatically update to show the new data. However, the DevBytes server does not refresh its contents, so you do not see the data updating.</p>
<aside class="special"><p><strong>Tip:</strong> The easiest way to remove the cache for testing is to uninstall the app.</p>
</aside>
<p>Great work! In this codelab, you implemented an offline cache using <code translate="no" dir="ltr">Room</code>, attached the cache to a repository, and manipulated <code translate="no" dir="ltr">LiveData</code> using a transformation. You also integrated the offline cache with the <code translate="no" dir="ltr">ViewModel</code> to display the playlist from the repository instead of fetching the playlist from the network.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Solution code" duration="0">
          
          <p>Android Studio project:  <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/tree/master/DevBytesRepository" target="_blank">DevBytesRepository</a></p>


        </google-codelab-step>
      
        <google-codelab-step label="Summary" duration="0">
          
          <ul>
<li><a href="https://searchstorage.techtarget.com/definition/cache" target="_blank">Caching</a> is a process of storing data fetched from a network on a device&#39;s storage. Caching lets your app access data when the device is offline, or if your app needs to access the same data again.</li>
<li>The best way for your app to store structured data on a device&#39;s file system is to use a local SQLite database. <code translate="no" dir="ltr">Room</code> is an SQLite object-mapping library, meaning that it provides an abstraction layer over SQLite. Using <code translate="no" dir="ltr">Room</code> is the recommended best practice for implementing offline caching.</li>
<li>A repository class isolates data sources, such as <code translate="no" dir="ltr">Room</code> database and web services, from the rest of the app. The repository class provides a clean API for data access to the rest of the app.</li>
<li>Using repositories is a recommended best practice for code separation and architecture.</li>
<li>When you design an offline cache, it&#39;s a best practice to separate the app&#39;s network, domain, and database objects. This strategy is an example of  <a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank">separation of concerns</a>.</li>
<li>To add offline-support to an app, add a local database using <code translate="no" dir="ltr">Room</code>. Implement a repository to manage and access the <code translate="no" dir="ltr">Room</code> database. In the <code translate="no" dir="ltr">ViewModel</code>, fetch and display the data directly from the repository instead of fetching the data from the network.</li>
<li>Use a database refresh strategy to insert and update the data in the local database. In a database refresh, the local database is updated or refreshed to keep it in sync with data from the network.</li>
<li>To update your app&#39;s UI data automatically when the data in the database changes, use observable queries with a return value of type  <a href="https://developer.android.com/reference/androidx/lifecycle/LiveData.html" target="_blank"><code translate="no" dir="ltr">LiveData</code></a> in the DAO. When the <code translate="no" dir="ltr">Room</code> database is updated, <code translate="no" dir="ltr">Room</code> runs the query in background to update the associated <code translate="no" dir="ltr">LiveData</code>.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Learn more" duration="0">
          
          <p>Udacity course:</p>
<ul>
<li><a href="https://www.udacity.com/course/developing-android-apps-with-kotlin--ud9012" target="_blank">Developing Android Apps with Kotlin</a></li>
</ul>
<p>Android developer documentation:</p>
<ul>
<li><a href="https://developer.android.com/topic/libraries/architecture/room" target="_blank">Room Persistence Library</a></li>
<li><a href="https://developer.android.com/jetpack/docs/guide" target="_blank">Guide to app architecture</a></li>
<li><a href="https://developer.android.com/jetpack/androidx/releases/room" target="_blank">Room</a></li>
<li><a href="https://developer.android.com/reference/android/arch/persistence/room/package-summary" target="_blank">Room annotations</a></li>
<li><a href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html" target="_blank"><code translate="no" dir="ltr">LiveData</code></a></li>
<li><a href="https://developer.android.com/reference/android/arch/lifecycle/Transformations.html#map(android.arch.lifecycle.LiveData%3CX%3E,%20android.arch.core.util.Function%3CX,%20Y%3E)" target="_blank"><code translate="no" dir="ltr">Transformations.map</code></a></li>
</ul>
<p>Reference documentation for the starter code:</p>
<ul>
<li><a href="http://square.github.io/retrofit/" target="_blank">Retrofit networking library</a></li>
<li><a href="https://developer.android.com/topic/libraries/data-binding/binding-adapters" target="_blank">Binding adapters</a></li>
</ul>
<p>Other codelabs:</p>
<ul>
<li><a href="https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/index.html" target="_blank">Android Room with a View - Kotlin</a></li>
<li><a href="https://codelabs.developers.google.com/codelabs/android-room-with-a-view/#0" target="_blank">Android Room with a View - Java</a></li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Homework" duration="0">
          
          <p>This section lists possible homework assignments for students who are working through this codelab as part of a course led by an instructor. It&#39;s up to the instructor to do the following:</p>
<ul>
<li>Assign homework if required.</li>
<li>Communicate to students how to submit homework assignments.</li>
<li>Grade the homework assignments.</li>
</ul>
<p>Instructors can use these suggestions as little or as much as they want, and should feel free to assign any other homework they feel is appropriate.</p>
<p>If you&#39;re working through this codelab on your own, feel free to use these homework assignments to test your knowledge.</p>
<h2 is-upgraded id="answer-these-questions" data-text="Answer these questions"><strong>Answer these questions</strong></h2>
<h3 is-upgraded id="question-1" data-text="Question 1"><strong>Question 1</strong></h3>
<p>Which component in the Android Architecture Components is responsible for keeping the offline cache up-to-date and getting data from the network?</p>
<p>▢ <code translate="no" dir="ltr">ViewModel</code></p>
<p>▢ <code translate="no" dir="ltr">LiveData</code></p>
<p>▢ Repository</p>
<p>▢ Activities</p>
<h3 is-upgraded id="question-2" data-text="Question 2"><strong>Question 2</strong></h3>
<p>What is the best way to save structured data on the device file system for offline caching?</p>
<p>▢ <code translate="no" dir="ltr">Room</code></p>
<p>▢ Files</p>
<p>▢ Shared preferences</p>
<p>▢ Retrofit caching</p>
<h3 is-upgraded id="question-3" data-text="Question 3"><strong>Question 3</strong></h3>
<p>The  <a href="https://developer.android.com/reference/android/arch/lifecycle/Transformations.html#map(android.arch.lifecycle.LiveData%3CX%3E,%20android.arch.core.util.Function%3CX,%20Y%3E)" target="_blank"><code translate="no" dir="ltr">Transformations.map</code></a> converts one <code translate="no" dir="ltr">LiveData</code> into another _______.</p>
<p>▢ <code translate="no" dir="ltr">ViewModel</code></p>
<p>▢ <code translate="no" dir="ltr">LiveData</code></p>
<p>▢ Repository</p>
<p>▢ DAO object</p>
<h3 is-upgraded id="question-4" data-text="Question 4"><strong>Question 4</strong></h3>
<p>When implementing offline caching, which one of the following strategies is a good example of the concept of  <a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank">separation of concerns</a>?</p>
<p>▢ Create separate classes to represent the network, domain, and database objects.</p>
<p>▢ Create a single class to represent the network, domain, and database objects.</p>
<p>▢ Create a single class to represent the network and domain objects, and another class to represent the database object.</p>
<p>▢ Create a single class to represent the network object and another class to represent the database and domain objects.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Next codelab" duration="0">
          
          <p>Start to the next lesson:  <a href="https://codelabs.developers.google.com/codelabs/kotlin-android-training-work-manager" target="_blank"><paper-button class="colored" raised>WorkManager</paper-button></a></p>
<p>For links to other codelabs in this course, see the  <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>


        </google-codelab-step>
      
    </google-codelab>
  
    

    
  </div>

  

  
    
    
    
  

  
  
</article>




            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promosi">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//twitter.com/AndroidDev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer Twitter Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="/_static/android/images/logo-twitter.svg"
             loading="lazy"
             alt="Twitter">
        
        Twitter
      </a>
      <div class="devsite-footer-promo-description">Ikuti @AndroidDev di Twitter</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer YouTube Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png"
             loading="lazy"
             alt="YouTube">
        
        YouTube
      </a>
      <div class="devsite-footer-promo-description">Lihat Developer Android di YouTube</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Link footer">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Selengkapnya tentang Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Android
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Enterprise
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Keamanan
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Source
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dukungan</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Laporkan bug platform
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Laporkan bug dokumentasi
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Google Play support
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://google.qualtrics.com/jfe/form/SV_ewWXIoEVLBcyp7f??reserved=1&amp;utm_source=FooterLink&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=developer.android.com&amp;utm_term=0&amp;utm_content=0&amp;productTag=reg&amp;campaignDate=may19&amp;pType=devel&amp;referral_code=gV420370"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Bergabung dengan studi riset
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dokumentasi</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Panduan developer
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/design"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Panduan desain
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Referensi API
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/samples"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Sampel
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Android Studio
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Situs Google Developers lain">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <img class="devsite-footer-sites-logo"
           src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup-developers.svg"
           loading="lazy"
           alt="Google Developers">
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          Semua produk
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Link utilitas">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privasi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          Lisensi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/distribute/marketing-tools/brand-guidelines"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          Pedoman brand
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Dapatkan berita dan tips melalui email</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/updates"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          Berlangganan
        </a>
        
      </li>
      
    </ul>
    
    
    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    
<devsite-snackbar 
                  ></devsite-snackbar>

    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe>
      
        <script type="application/json" analytics>[{"gaid": "UA-5831155-1", "dimensions": {"dimension4": "Developer Android", "dimension6": "en", "dimension1": "Signed In", "dimension3": false, "dimension5": "id", "dimension11": false}, "metrics": {"ratings_value": "metric1", "ratings_count": "metric2"}}]</script>
<script type="application/json" gtm>{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "id", "served": "en"}, "pageType": "codelab", "projectName": "Developer Android", "signedIn": "True", "tenant": "android", "recommendations": {"sourcePage": "", "sourceType": 0, "sourceRank": 0, "sourceIdenticalDescriptions": 0, "sourceTitleWords": 0, "sourceDescriptionWords": 0, "experiment": ""}}, "tags": ["GTM-KMSWPCJ"]}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
<android-fully-clickable target=".fully-clickable" watch="devsite-content"></android-fully-clickable>
    <script nonce="x2CPUw+qlAODsV2qAj4uc45h1/xy8/">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/js/app_loader.js', '[3,"id",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,40,50,63,70,75,76,80,87,88,91,92,93,97,98,100,101,102,103,104,105,107,108,111,112,113,115,116,117,118,120,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,138,147,148],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg"]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>