<!doctype html>
<html 
      lang="id"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email https://www.googleapis.com/auth/developerprofiles https://www.googleapis.com/auth/developerprofiles.award">
    <meta property="og:site_name" content="Android Developers">
    <meta property="og:type" content="website"><meta name="theme-color" content="#3ddc84"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/_pwa/android/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/css/app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/touchicon-180.png"><link rel="canonical" href="https://developer.android.com/codelabs/kotlin-android-training-headers?hl=id"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Developers" href="https://developer.android.com/s/opensearch.xml">
      

<title>Android Kotlin Fundamentals: Headers in RecyclerView</title>

<meta property="og:title" content="Android Kotlin Fundamentals: Headers in RecyclerView"><meta name="description" content="Learn how to add more than one view holder and layout to lists and grids in a RecyclerView in your Android Kotlin app (for example, to add a header).">
  <meta property="og:description" content="Learn how to add more than one view holder and layout to lists and grids in a RecyclerView in your Android Kotlin app (for example, to add a header)."><meta property="og:url" content="https://developer.android.com/codelabs/kotlin-android-training-headers?hl=id"><meta property="og:image" content="https://developer.android.com/images/social/android-developers.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="675"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image">
  <meta name="xsrf_token" content="Og_gvXUOOmLxj1sSuCYlCthfUW2eopMLLTGAZfQgX1s6MTYyNzQ4MjQ0NDc3MzY2Ng">
  

  <meta name="session_expiry" content="1627483460">
  
    
    
    
    
    
    
      
    
    <meta name="original_source" content="https://docs.google.com/document/d/1oVoyiw0RjrfXK1wtDPDGGNpOk1IqrmPNw3KfCpEp7Nw/edit" />
    
    
    
    <meta name="duration" value="0" />
    
      <meta name="authors" value="Google Developers Training team" />
    
    
  

    </head>
  <body class="devsite-full-width-page"
        template="codelab"
        theme="android-theme"
        type="codelab"
        
        layout="full"
        
        
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header>
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo"
       alt="Android Developers">

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Tab atas">
      
        
          <tab  >
            <a href="https://developer.android.com/about"
   class="gc-analytics-event "
   track-type="nav"
   track-name="platform"
   track-metadata-eventdetail="https://developer.android.com/about"
   track-metadata-position="nav - platform"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Platform"
   >
  Platform
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/studio"
   class="gc-analytics-event "
   track-type="nav"
   track-name="android studio"
   track-metadata-eventdetail="https://developer.android.com/studio"
   track-metadata-position="nav - android studio"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Android Studio"
   >
  Android Studio
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/distribute"
   class="gc-analytics-event "
   track-type="nav"
   track-name="google play"
   track-metadata-eventdetail="https://developer.android.com/distribute"
   track-metadata-position="nav - google play"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Google Play"
   >
  Google Play
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/jetpack"
   class="gc-analytics-event "
   track-type="nav"
   track-name="jetpack"
   track-metadata-eventdetail="https://developer.android.com/jetpack"
   track-metadata-position="nav - jetpack"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Jetpack"
   >
  Jetpack
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/kotlin"
   class="gc-analytics-event "
   track-type="nav"
   track-name="kotlin"
   track-metadata-eventdetail="https://developer.android.com/kotlin"
   track-metadata-position="nav - kotlin"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Kotlin"
   >
  Kotlin
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/docs"
   class="gc-analytics-event "
   track-type="nav"
   track-name="dokumen"
   track-metadata-eventdetail="https://developer.android.com/docs"
   track-metadata-position="nav - dokumen"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Dokumen"
   >
  Dokumen
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://developer.android.com/news"
   class="gc-analytics-event "
   track-type="nav"
   track-name="berita"
   track-metadata-eventdetail="https://developer.android.com/news"
   track-metadata-position="nav - berita"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Berita"
   >
  Berita
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    aria-expanded="false"
    aria-haspopup="listbox"
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    project-name="Developer Android"
    tenant-name="Android Developers"
    
    
    
    
    
    role="combobox">
  <form class="devsite-search-form" action="https://developer.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Penelusuran"
          aria-haspopup="false"
          aria-multiline="false"
          aria-label="Kotak penelusuran"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Penelusuran"
          role="searchbox"
          type="text"
          value=""
          >
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Buka penelusuran"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Tutup penelusuran"></button>
</devsite-search>

        </div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>


        

        
          
          
          <devsite-user signed-in
                        
                        
                          enable-profiles
                        
                        
                          
                        id="devsite-user"></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    
      devsite-header-no-lower-tabs
    ">
    <div class="devsite-header-background">
      
        
      
      
    </div>
  </div>

</div>



  
</devsite-header>
      <devsite-book-nav scrollbars hidden>
        
          
























<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Menu samping">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidDevelopers" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg" class="devsite-site-logo" alt="Android Developers">

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/about"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Platform"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="platform">
  
    <span class="devsite-nav-text" tooltip >
      Platform
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/studio"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Studio"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="androidStudio">
  
    <span class="devsite-nav-text" tooltip >
      Android Studio
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/distribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Play"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="googlePlay">
  
    <span class="devsite-nav-text" tooltip >
      Google Play
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/jetpack"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Jetpack"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="jetpack">
  
    <span class="devsite-nav-text" tooltip >
      Jetpack
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/kotlin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Kotlin"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="kotlin">
  
    <span class="devsite-nav-text" tooltip >
      Kotlin
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dokumen"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="dokumen">
  
    <span class="devsite-nav-text" tooltip >
      Dokumen
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/news"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Berita"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="berita">
  
    <span class="devsite-nav-text" tooltip >
      Berita
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            
            >
          
          <devsite-toc class="devsite-nav"
                       role="navigation"
                       aria-label="Daftar isi"
            disabled></devsite-toc>
          <devsite-content>
            
              

















<article class="devsite-article"><style>
      body {
        transition: opacity ease-in 0.2s;
      }

      body[unresolved] {
        opacity: 0;
        display: block;
        overflow: hidden;
        position: relative;
      }
      </style>
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://developer.android.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Developer Android"
      
    >
    
        Developer Android
      
  </a>
  
    
  </li>
  
</ul>
    
  </div>
  
  
    <h1 class="devsite-page-title">Android Kotlin Fundamentals: Headers in RecyclerView</h1><devsite-bookmark></devsite-bookmark>
  

  <devsite-toc class="devsite-nav" devsite-toc-embedded
               disabled>
  </devsite-toc>

  

  <div class="devsite-article-body clearfix
    ">

    
      
    <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
    <google-codelab codelab-gaid="UA-81734179-1"
                    doc-id="1oVoyiw0RjrfXK1wtDPDGGNpOk1IqrmPNw3KfCpEp7Nw"
                    id="kotlin-android-training-headers"
                    title="Android Kotlin Fundamentals: Headers in RecyclerView"
                    environment="web"
                    feedback-link="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/issues/new?assignees=&amp;labels=&amp;template=android-kotlin-fundamentals.md&amp;title=Android&#43;Kotlin&#43;Fundamentals&#43;codelab%3A&#43;"
                    >
      
        <google-codelab-step label="Welcome" duration="0">
          
            <google-codelab-about codelab-title="Android Kotlin Fundamentals: Headers in RecyclerView"
                                  last-updated="2020-06-19T18:55:37Z"
                                  authors="Google Developers Training team"
                                  >
            </google-codelab-about>
          
          <p>This codelab is part of the Android Kotlin Fundamentals course. You&#39;ll get the most value out of this course if you work through the codelabs in sequence. All the course codelabs are listed on the <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>

<h2 is-upgraded id="introduction" data-text="Introduction">Introduction</h2>
<p>In this codelab, you learn how to add a header that spans the width of the list displayed in a <code translate="no" dir="ltr">RecyclerView</code>. You build on the sleep-tracker app from previous codelabs.</p>
<h2 is-upgraded id="what-you-should-already-know" data-text="What you should already know">What you should already know</h2>
<ul>
<li>How to build a basic user interface using an activity, fragments, and views. </li>
<li>How to navigate between fragments, and how to use <code translate="no" dir="ltr">safeArgs</code> to pass data between fragments.</li>
<li>View models, view model factories, transformations, and <code translate="no" dir="ltr">LiveData</code> and their observers. </li>
<li>How to create a <code translate="no" dir="ltr">Room</code> database, create a DAO, and define entities.</li>
<li>How to use coroutines for database interactions and other long-running tasks.</li>
<li>How to implement a basic <code translate="no" dir="ltr">RecyclerView</code> with an <code translate="no" dir="ltr">Adapter</code>, <code translate="no" dir="ltr">ViewHolder</code>, and item layout.</li>
<li>How to implement data binding for <code translate="no" dir="ltr">RecyclerView</code>.</li>
<li>How to create and use binding adapters to transform data. </li>
<li>How to use <code translate="no" dir="ltr">GridLayoutManager</code>.</li>
<li>How capture and handle clicks on items in a <code translate="no" dir="ltr">RecyclerView.</code></li>
</ul>
<h2 class="checklist" is-upgraded id="what-youll-learn" data-text="What you'll learn">What you'll learn</h2>
<ul class="checklist">
<li>How to use more than one <code translate="no" dir="ltr">ViewHolder</code> with a <code translate="no" dir="ltr">RecyclerView</code> to add items with a different layout. Specifically, how to use a second <code translate="no" dir="ltr">ViewHolder</code> to add a header above the items displayed in <code translate="no" dir="ltr">RecyclerView</code>. </li>
</ul>
<h2 is-upgraded id="what-youll-do" data-text="What you'll do">What you'll do</h2>
<ul>
<li>Build on the TrackMySleepQuality app from the previous codelab in this series. </li>
<li>Add a header that spans the width of the screen above the sleep nights displayed in the <code translate="no" dir="ltr">RecyclerView</code>. </li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="App overview" duration="0">
          
          <p>The sleep-tracker app you start with has three screens, represented by fragments, as shown in the figure below. </p>
<table>
<tr><td colspan="1" rowspan="1"><p class="image-container"><img style="width: 189.86px" src="/codelabs/kotlin-android-training-headers/img/b0abde98c5f99bf6.png"></p>
</td><td colspan="1" rowspan="1"><p class="image-container"><img style="width: 194.00px" src="/codelabs/kotlin-android-training-headers/img/43590f0a4c00e138.png"></p>
</td><td colspan="1" rowspan="1"><p class="image-container"><img style="width: 194.00px" src="/codelabs/kotlin-android-training-headers/img/1018f2610bca049.png"></p>
</td></tr>
</table>
<p>The first screen, shown on the left, has buttons for starting and stopping tracking. The screen shows some of the user&#39;s sleep data. The <strong>Clear</strong> button permanently deletes all the data that the app has collected for the user. The second screen, shown in the middle, is for selecting a sleep-quality rating. The third screen is a detail view that opens when the user taps an item in the grid. </p>
<p>This  app uses a simplified architecture with a UI controller, view model and <code translate="no" dir="ltr">LiveData</code>, and a <code translate="no" dir="ltr">Room</code> database to persist sleep data. </p>
<p class="image-container"><img style="width: 257.60px" src="/codelabs/kotlin-android-training-headers/img/49f975f1e5fe689.png"></p>
<p>In this codelab, you add a header to the grid of items displayed. Your final main screen will look like this: </p>
<p class="image-container"><img style="width: 298.00px" src="/codelabs/kotlin-android-training-headers/img/eb760aae692a980c.png"></p>


        </google-codelab-step>
      
        <google-codelab-step label="Concept: Headers in RecyclerView" duration="0">
          
          <p>This codelab teaches the general principle of including items that use different layouts in a <code translate="no" dir="ltr">RecyclerView</code>. One common example is having headers in your list or grid. A list can have a single header to describe the item content. A list can also have multiple headers to group and separate items in a single list.</p>
<p><code translate="no" dir="ltr">RecyclerView</code> doesn&#39;t know anything about your data or what type of layout each item has. The <code translate="no" dir="ltr">LayoutManager</code> arranges the items on the screen, but the adapter adapts the data to be displayed and passes view holders to the <code translate="no" dir="ltr">RecyclerView</code>. So you will add the code to create headers in the adapter. </p>
<h2 is-upgraded id="two-ways-of-adding-headers" data-text="Two ways of adding headers">Two ways of adding headers</h2>
<p>In <code translate="no" dir="ltr">RecyclerView</code>, every item in the list corresponds to an index number starting from 0. For example:</p>
<p><strong>[Actual Data]    -&gt;    [Adapter Views]</strong></p>
<p>[0: SleepNight]  -&gt;    [0: SleepNight]</p>
<p>[1: SleepNight]  -&gt;    [1: SleepNight]</p>
<p>[2: SleepNight]  -&gt;    [2: SleepNight]</p>
<p>One way to add headers to a list is to modify your adapter to use a different <code translate="no" dir="ltr">ViewHolder</code> by checking indexes where your header needs to be shown. The <code translate="no" dir="ltr">Adapter</code> will be responsible for keeping track of the header. For example, to show a header at the top of the table, you need to return a different <code translate="no" dir="ltr">ViewHolder</code> for the header while laying out the zero-indexed item. Then all the other items would be mapped with the header offset, as shown below. </p>
<p><strong>[Actual Data]    -&gt;    [Adapter Views]</strong></p>
<p><strong>[0: Header]</strong></p>
<p>[0: SleepNight]  -&gt;   [1: SleepNight]</p>
<p>[1: SleepNight] -&gt;    [2: SleepNight]</p>
<p>[2: SleepNight] -&gt;    [3: SleepNight.</p>
<p>Another way to add headers is to modify the backing dataset for your data grid. Since all the data that needs to be displayed is stored in a list, you can modify the list to include items to represent a header. This is a bit simpler to understand, but it requires you to think about how you design your objects, so you can combine the different item types into a single list. Implemented this way, the adapter will display the items passed to it. So the item at position 0 is a header, and the item at position 1 is a <code translate="no" dir="ltr">SleepNight</code>, which maps directly to what&#39;s on the screen.</p>
<p><strong>[Actual Data]    -&gt;    [Adapter Views]</strong></p>
<p><strong> [0: Header]      -&gt;    [0: Header]</strong></p>
<p>[1: SleepNight]  -&gt;   [1: SleepNight]</p>
<p>[2: SleepNight] -&gt;    [2: SleepNight]</p>
<p>[3: SleepNight] -&gt;    [3: SleepNight]</p>
<p>Each methodology has benefits and drawbacks. Changing the dataset doesn&#39;t introduce much change to the rest of the adapter code, and you can add header logic by manipulating the list of data. On the other hand, using a different <code translate="no" dir="ltr">ViewHolder</code> by checking indexes for headers gives more freedom on the layout of the header. It also lets the adapter handle how data is adapted to the view without modifying the backing data.</p>
<p>In this codelab, you update your <code translate="no" dir="ltr">RecyclerView</code> to display a header at the start of the list. In this case, your app will use a different <code translate="no" dir="ltr">ViewHolder</code> for the header than for data items. The app will check the index of the list to determine which <code translate="no" dir="ltr">ViewHolder</code> to use.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Add a header to your RecyclerView" duration="0">
          
          <h2 is-upgraded id="step-1:-create-a-dataitem-class" data-text="Step 1: Create a DataItem class">Step 1: Create a DataItem class</h2>
<p>To abstract the type of item and let the adapter just deal with &#34;items&#34;, you can create a data holder class that represents either a <code translate="no" dir="ltr">SleepNight</code> or a <code translate="no" dir="ltr">Header</code>. Your dataset will then be a list of data holder items.</p>
<p>You can either get the starter app from GitHub, or continue using the SleepTracker app you built in the previous codelab.</p>
<ol type="1" start="1">
<li>Download the <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/tree/master/RecyclerViewHeaders-Starter" target="_blank">RecyclerViewHeaders-Starter</a> code from GitHub. The <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/tree/master/RecyclerViewHeaders-Starter" target="_blank">RecyclerViewHeaders-Starter</a> directory contains the starter version of the SleepTracker app needed for this codelab. You can also continue with your finished app from the previous codelab if you prefer.</li>
<li>Open <strong>SleepNightAdapter.kt</strong>.</li>
<li>Below the <code translate="no" dir="ltr">SleepNightListener</code> class, at the top level, define a <code translate="no" dir="ltr">sealed</code> class called <code translate="no" dir="ltr">DataItem</code> that represents an item of data. <br><br>A <code translate="no" dir="ltr">sealed</code> class defines a closed type, which means that all subclasses of <code translate="no" dir="ltr">DataItem</code> must be defined in this file. As a result, the number of subclasses is known to the compiler. It&#39;s not possible for another part of your code to define a new type of <code translate="no" dir="ltr">DataItem</code> that could break your adapter.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">sealed class DataItem {

 }</code></pre>
<ol type="1" start="4">
<li>Inside the body of the <code translate="no" dir="ltr">DataItem</code> class, define two classes that represent the different types of data items. The first is a <code translate="no" dir="ltr">SleepNightItem</code>, which is a wrapper around a <code translate="no" dir="ltr">SleepNight</code>, so it takes a single value called <code translate="no" dir="ltr">sleepNight</code>. To make it part of the sealed class, have it extend <code translate="no" dir="ltr">DataItem</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">data class SleepNightItem(val sleepNight: SleepNight): DataItem()</code></pre>
<ol type="1" start="5">
<li>The second class is <code translate="no" dir="ltr">Header</code>, to represent a header. Since a header has no actual data, you can declare it as an <code translate="no" dir="ltr">object</code>. That means there will only ever be one instance of <code translate="no" dir="ltr">Header</code>. Again, have it extend <code translate="no" dir="ltr">DataItem</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">object Header: DataItem()</code></pre>
<ol type="1" start="6">
<li>Inside <code translate="no" dir="ltr">DataItem</code>, at the class level, define an <code translate="no" dir="ltr">abstract</code> <code translate="no" dir="ltr">Long</code> property named <code translate="no" dir="ltr">id</code>. When the adapter uses <code translate="no" dir="ltr">DiffUtil</code> to determine whether and how an item has changed,  the <code translate="no" dir="ltr">DiffItemCallback</code> needs to know the id of each item. You will see an error, because <code translate="no" dir="ltr">SleepNightItem</code> and <code translate="no" dir="ltr">Header</code> need to override the abstract property <code translate="no" dir="ltr">id</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">abstract val id: Long</code></pre>
<ol type="1" start="7">
<li>In <code translate="no" dir="ltr">SleepNightItem</code>, override <code translate="no" dir="ltr">id</code> to return the <code translate="no" dir="ltr">nightId</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override val id = sleepNight.nightId</code></pre>
<ol type="1" start="8">
<li>In <code translate="no" dir="ltr">Header</code>, override <code translate="no" dir="ltr">id</code>  to return <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html" target="_blank"><code translate="no" dir="ltr">Long.MIN_VALUE</code></a>, which is a very, very small number (literally, -2 to the power of 63). So, this will never conflict with any <code translate="no" dir="ltr">nightId</code> in existence. </li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override val id = Long.MIN_VALUE</code></pre>
<ol type="1" start="9">
<li>Your finished code should look like this, and your app should build without errors.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">sealed class DataItem {
    abstract val id: Long
    data class SleepNightItem(val sleepNight: SleepNight): DataItem()      {
        override val id = sleepNight.nightId
    }

    object Header: DataItem() {
        override val id = Long.MIN_VALUE
    }
}</code></pre>
<h2 is-upgraded id="step-2:-create-a-viewholder-for-the-header" data-text="Step 2: Create a ViewHolder for the Header">Step 2: Create a ViewHolder for the Header</h2>
<ol type="1" start="1">
<li>Create the layout for the header in a new layout resource file called <strong>header.xml </strong>that displays a <code translate="no" dir="ltr">TextView</code>. There is nothing exciting about this, so here is the code.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;TextView xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
    android:id=&#34;@+id/text&#34;
    android:layout_width=&#34;match_parent&#34;
    android:layout_height=&#34;wrap_content&#34;
    android:textAppearance=&#34;?android:attr/textAppearanceLarge&#34;
    android:text=&#34;Sleep Results&#34;
    android:padding=&#34;8dp&#34; /&gt;</code></pre>
<ol type="1" start="2">
<li>Extract <code translate="no" dir="ltr">&#34;Sleep Results&#34;</code> into a string resource and call it <code translate="no" dir="ltr">header_text</code>.  </li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">&lt;string name=&#34;header_text&#34;&gt;Sleep Results&lt;/string&gt;</code></pre>
<ol type="1" start="3">
<li>In <strong>SleepNightAdapter.kt</strong>, inside <code translate="no" dir="ltr">SleepNightAdapter</code>, above the <code translate="no" dir="ltr">ViewHolder</code> class, create a new <code translate="no" dir="ltr">TextViewHolder</code> class. This class inflates the <strong>textview.xml</strong> layout, and returns a <code translate="no" dir="ltr">TextViewHolder</code> instance. Since you&#39;ve done this before, here is the code, and you&#39;ll have to import <code translate="no" dir="ltr">View</code> and <code translate="no" dir="ltr">R</code>:</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">    class TextViewHolder(view: View): RecyclerView.ViewHolder(view) {
        companion object {
            fun from(parent: ViewGroup): TextViewHolder {
                val layoutInflater = LayoutInflater.from(parent.context)
                val view = layoutInflater.inflate(R.layout.header, parent, false)
                return TextViewHolder(view)
            }
        }
    }</code></pre>
<h2 is-upgraded id="step-3:-update-sleepnightadapter" data-text="Step 3: Update SleepNightAdapter">Step 3: Update SleepNightAdapter</h2>
<p>Next you need to update the declaration of <code translate="no" dir="ltr">SleepNightAdapter</code>. Instead of only supporting one type of <code translate="no" dir="ltr">ViewHolder</code>, it needs to be able to use any type of view holder.</p>
<h3 is-upgraded id="define-the-types-of-items" data-text="Define the types of items">Define the types of items</h3>
<ol type="1" start="1">
<li>In <code translate="no" dir="ltr">SleepNightAdapter.kt</code>, at the top level, below the <code translate="no" dir="ltr">import</code> statements and above <code translate="no" dir="ltr">SleepNightAdapter</code>, define two constants for the view types. <br><br>The <code translate="no" dir="ltr">RecyclerView</code> will need to distinguish each item&#39;s view type, so that it can correctly assign a view holder to it. </li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">    private val ITEM_VIEW_TYPE_HEADER = 0
    private val ITEM_VIEW_TYPE_ITEM = 1</code></pre>
<ol type="1" start="2">
<li>Inside the <code translate="no" dir="ltr">SleepNightAdapter</code>, create a function to override <code translate="no" dir="ltr">getItemViewType()</code> to return the right header or item constant depending on the type of the current item.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun getItemViewType(position: Int): Int {
        return when (getItem(position)) {
            is DataItem.Header -&gt; ITEM_VIEW_TYPE_HEADER
            is DataItem.SleepNightItem -&gt; ITEM_VIEW_TYPE_ITEM
        }
    }</code></pre>
<h3 is-upgraded id="update-the-sleepnightadapter-definition" data-text="Update the SleepNightAdapter definition">Update the SleepNightAdapter definition</h3>
<ol type="1" start="1">
<li>In the definition of <code translate="no" dir="ltr">SleepNightAdapter</code>, update the first argument for the <code translate="no" dir="ltr">ListAdapter</code> from  <code translate="no" dir="ltr">SleepNight</code> to <code translate="no" dir="ltr">DataItem</code>. </li>
<li>In the definition of <code translate="no" dir="ltr">SleepNightAdapter</code>, change the second generic argument for the <code translate="no" dir="ltr">ListAdapter</code> from <code translate="no" dir="ltr">SleepNightAdapter.ViewHolder</code> to <code translate="no" dir="ltr">RecyclerView.ViewHolder</code>. You will see some errors for necessary updates, and your class header should look like shown below.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class SleepNightAdapter(val clickListener: SleepNightListener):
       ListAdapter&lt;DataItem, RecyclerView.ViewHolder&gt;(SleepNightDiffCallback()) {</code></pre>
<h3 is-upgraded id="update-oncreateviewholder" data-text="Update onCreateViewHolder()">Update onCreateViewHolder()</h3>
<ol type="1" start="1">
<li>Change the signature of <code translate="no" dir="ltr">onCreateViewHolder()</code> to return a <code translate="no" dir="ltr">RecyclerView.ViewHolder</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder</code></pre>
<ol type="1" start="2">
<li>Expand the implementation of the <code translate="no" dir="ltr">onCreateViewHolder()</code> method to test for and return the appropriate view holder for each item type. Your updated method should look like the code below.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {
        return when (viewType) {
            ITEM_VIEW_TYPE_HEADER -&gt; TextViewHolder.from(parent)
            ITEM_VIEW_TYPE_ITEM -&gt; ViewHolder.from(parent)
            else -&gt; throw ClassCastException(&#34;Unknown viewType ${viewType}&#34;)
        }
    }</code></pre>
<h3 is-upgraded id="update-onbindviewholder" data-text="Update onBindViewHolder()">Update onBindViewHolder()</h3>
<ol type="1" start="1">
<li>Change the parameter type of <code translate="no" dir="ltr">onBindViewHolder()</code> from <code translate="no" dir="ltr">ViewHolder</code> to  <code translate="no" dir="ltr">RecyclerView.ViewHolder</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int)</code></pre>
<ol type="1" start="2">
<li>Add a condition to only assign data to the view holder if the holder is a <code translate="no" dir="ltr">ViewHolder</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">        when (holder) {
            is ViewHolder -&gt; {...}</code></pre>
<ol type="1" start="3">
<li>Cast the object type returned by <code translate="no" dir="ltr">getItem()</code> to <code translate="no" dir="ltr">DataItem.SleepNightItem</code>. Your finished <code translate="no" dir="ltr">onBindViewHolder()</code> function should look like this.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">  override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {
        when (holder) {
            is ViewHolder -&gt; {
                val nightItem = getItem(position) as DataItem.SleepNightItem
                holder.bind(nightItem.sleepNight, clickListener)
            }
        }
    }</code></pre>
<h3 is-upgraded id="update-the-diffutil-callbacks" data-text="Update the diffUtil callbacks">Update the diffUtil callbacks</h3>
<ol type="1" start="1">
<li>Change the methods in <code translate="no" dir="ltr">SleepNightDiffCallback</code> to use your new <code translate="no" dir="ltr">DataItem</code> class instead of the <code translate="no" dir="ltr">SleepNight</code>. Suppress the lint warning as shown in the code below.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">class SleepNightDiffCallback : DiffUtil.ItemCallback&lt;DataItem&gt;() {
    override fun areItemsTheSame(oldItem: DataItem, newItem: DataItem): Boolean {
        return oldItem.id == newItem.id
    }
    @SuppressLint(&#34;DiffUtilEquals&#34;)
    override fun areContentsTheSame(oldItem: DataItem, newItem: DataItem): Boolean {
        return oldItem == newItem
    }
}</code></pre>
<h3 is-upgraded id="add-and-submit-the-header" data-text="Add and submit the header">Add and submit the header</h3>
<ol type="1" start="1">
<li>Inside the <code translate="no" dir="ltr">SleepNightAdapter</code>, below <code translate="no" dir="ltr">onCreateViewHolder()</code>, define a function <code translate="no" dir="ltr">addHeaderAndSubmitList()</code> as shown below. This function takes a list of <code translate="no" dir="ltr">SleepNight</code>.  Instead of using <code translate="no" dir="ltr">submitList()</code>, provided by the <code translate="no" dir="ltr">ListAdapter</code>,  to submit your list, you will use this function to add a header and then submit the list.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">fun addHeaderAndSubmitList(list: List&lt;SleepNight&gt;?) {}</code></pre>
<ol type="1" start="2">
<li>Inside <code translate="no" dir="ltr">addHeaderAndSubmitList()</code>, if the passed in list is <code translate="no" dir="ltr">null</code>, return just a header, otherwise, attach the header to the head of the list, and then submit the list.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">val items = when (list) {
                null -&gt; listOf(DataItem.Header)
                else -&gt; listOf(DataItem.Header) + list.map { DataItem.SleepNightItem(it) }
            }
submitList(items)</code></pre>
<ol type="1" start="3">
<li>Open <strong>SleepTrackerFragment.kt</strong> and change the call to <code translate="no" dir="ltr">submitList()</code> to <code translate="no" dir="ltr">addHeaderAndSubmitList()</code>.</li>
</ol>
<ol type="1" start="4">
<li>Run your app and observe how your header is displayed as the first item in the list of sleep items.</li>
</ol>
<p class="image-container"><img style="width: 304.50px" src="/codelabs/kotlin-android-training-headers/img/cdb7b972b40279a0.png"></p>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Use coroutines for list manipulations" duration="0">
          
          <p>There are two things that need to be fixed for this app. One is visible, and one is not. </p>
<ul>
<li>The header shows up in the top-left corner, and is not easily distinguishable. </li>
<li>It doesn&#39;t matter much for a short list with one header, but you should not do list manipulation in <code translate="no" dir="ltr">addHeaderAndSubmitList()</code> on the UI thread. Imagine a list with hundreds of items, multiple headers, and logic to decide where items need to be inserted. This work belongs in a coroutine.</li>
</ul>
<p>Change <code translate="no" dir="ltr">addHeaderAndSubmitList()</code> to use coroutines:</p>
<ol type="1" start="1">
<li>At the top level inside the <code translate="no" dir="ltr">SleepNightAdapter</code> class, define a <code translate="no" dir="ltr">CoroutineScope</code> with <code translate="no" dir="ltr">Dispatchers.Default</code>. </li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">private val adapterScope = CoroutineScope(Dispatchers.Default)</code></pre>
<ol type="1" start="2">
<li>In  <code translate="no" dir="ltr">addHeaderAndSubmitList()</code>, launch a coroutine in the <code translate="no" dir="ltr">adapterScope</code> to manipulate the list. Then switch to the <code translate="no" dir="ltr">Dispatchers.Main</code> context to submit the list, as shown in the code below.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr"> fun addHeaderAndSubmitList(list: List&lt;SleepNight&gt;?) {
        adapterScope.launch {
            val items = when (list) {
                null -&gt; listOf(DataItem.Header)
                else -&gt; listOf(DataItem.Header) + list.map { DataItem.SleepNightItem(it) }
            }
            withContext(Dispatchers.Main) {
                submitList(items)
            }
        }
    }</code></pre>
<ol type="1" start="3">
<li>Your code should build and run, and you won&#39;t see any difference.</li>
</ol>


        </google-codelab-step>
      
        <google-codelab-step label="Task: Extend the header to span across the screen" duration="0">
          
          <p>Currently, the header is the same width as the other items on the grid, taking up one span horizontally and vertically. The whole grid fits three items of one span width horizontally, so the header should use three spans horizontally.</p>
<p>To fix the header width, you need to tell the <code translate="no" dir="ltr">GridLayoutManager</code> when to span the data across all the columns. You can do this by configuring the <code translate="no" dir="ltr">SpanSizeLookup</code> on a <code translate="no" dir="ltr">GridLayoutManager</code>. This is a configuration object that the <code translate="no" dir="ltr">GridLayoutManager</code> uses to determine how many spans to use for each item in the list.</p>
<ol type="1" start="1">
<li>Open <strong>SleepTrackerFragment.kt</strong>.</li>
<li>Find the code where you define <code translate="no" dir="ltr">manager</code>, towards the end of <code translate="no" dir="ltr">onCreateView()</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">val manager = GridLayoutManager(activity, 3)</code></pre>
<ol type="1" start="3">
<li>Below <code translate="no" dir="ltr">manager</code>, define <code translate="no" dir="ltr">manager.spanSizeLookup</code>, as shown. You need to make an <code translate="no" dir="ltr">object</code> because <code translate="no" dir="ltr">setSpanSizeLookup</code> doesn&#39;t take a lambda. To make an <code translate="no" dir="ltr">object</code>  in Kotlin, type <em><code translate="no" dir="ltr">object : classname</code></em>, in this case <code translate="no" dir="ltr">GridLayoutManager.SpanSizeLookup</code>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">manager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {
}</code></pre>
<ol type="1" start="4">
<li>You might get a compiler error to call the constructor. If you do, open the intention menu with <code translate="no" dir="ltr">Option+Enter</code> (Mac) or <code translate="no" dir="ltr">Alt+Enter</code> (Windows) to apply the constructor call.</li>
</ol>
<ol type="1" start="5">
<li>Then you&#39;ll get an error on <code translate="no" dir="ltr">object</code> saying you need to override methods. Put the cursor on <code translate="no" dir="ltr">object</code>, press <code translate="no" dir="ltr">Option+Enter</code> (Mac) or <code translate="no" dir="ltr">Alt+Enter</code> (Windows) to open the intentions menu, then override the method <code translate="no" dir="ltr">getSpanSize()</code>.</li>
</ol>
<ol type="1" start="6">
<li>In the body of <code translate="no" dir="ltr">getSpanSize()</code>, return the right span size for each position. Position 0 has a span size of 3, and the other positions have a span size of 1. Your completed code should look like the code below:   </li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">    manager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {
            override fun getSpanSize(position: Int) =  when (position) {
                0 -&gt; 3
                else -&gt; 1
            }
        }</code></pre>
<ol type="1" start="7">
<li>To improve how your header looks, open <strong>header.xml</strong> and add this code to the layout file <strong>header.xml</strong>.</li>
</ol>
<pre translate="no" dir="ltr"><code translate="no" dir="ltr">android:textColor=&#34;@color/white_text_color&#34;
android:layout_marginStart=&#34;16dp&#34;
android:layout_marginTop=&#34;16dp&#34;
android:layout_marginEnd=&#34;16dp&#34;
android:background=&#34;@color/colorAccent&#34;</code></pre>
<ol type="1" start="8">
<li>Run your app. It should look like the screenshot below. </li>
</ol>
<p class="image-container"><img style="width: 298.00px" src="/codelabs/kotlin-android-training-headers/img/eb760aae692a980c.png"></p>
<p>Congratulations! You are done.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Solution code" duration="0">
          
          <p>Android Studio project: <a href="https://github.com/google-developer-training/android-kotlin-fundamentals-apps/tree/master/RecyclerViewHeaders" target="_blank">RecyclerViewHeaders</a></p>


        </google-codelab-step>
      
        <google-codelab-step label="Summary" duration="0">
          
          <ul>
<li>A <em>header</em> is generally an item that spans the width of a list and acts as a title or separator. A list can have a single header to describe the item content, or multiple headers to group items and separate items from each other. </li>
<li>A <code translate="no" dir="ltr">RecyclerView</code> can use multiple view holders to accommodate a heterogeneous set of items; for example, headers and list items. </li>
<li>One way to add headers is to modify your adapter to use a different <code translate="no" dir="ltr">ViewHolder</code> by checking indexes where your header needs to be shown. The <code translate="no" dir="ltr">Adapter</code> is responsible for keeping track of the header.</li>
<li>Another way to add headers is to modify the backing dataset (the list) for your data grid, which is what you did in this codelab. </li>
</ul>
<p>These are the major steps for adding a header:</p>
<ul>
<li>Abstract the data in your list by creating a <code translate="no" dir="ltr">DataItem</code> that can hold a header or data. </li>
<li>Create a view holder with a layout for the header in the adapter. </li>
<li>Update the adapter and its methods to use any kind of <code translate="no" dir="ltr">RecyclerView.ViewHolder</code>. </li>
<li>In <code translate="no" dir="ltr">onCreateViewHolder()</code>, return the correct type of view holder for the data item.</li>
<li>Update <code translate="no" dir="ltr">SleepNightDiffCallback</code> to work with the <code translate="no" dir="ltr">DataItem</code> class.</li>
<li>Create a <code translate="no" dir="ltr">addHeaderAndSubmitList()</code> function that uses coroutines to add the header to the dataset and then calls <code translate="no" dir="ltr">submitList()</code>. </li>
<li>Implement <code translate="no" dir="ltr">GridLayoutManager.SpanSizeLookup()</code> to make only the header three spans wide.</li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Learn more" duration="0">
          
          <p>Udacity course: </p>
<ul>
<li><a href="https://www.udacity.com/course/developing-android-apps-with-kotlin--ud9012" target="_blank">Developing Android Apps with Kotlin</a></li>
<li><a href="https://www.udacity.com/course/kotlin-bootcamp-for-programmers--ud9011" target="_blank">Kotlin Bootcamp for Programmers</a></li>
</ul>
<p>Android developer documentation: </p>
<ul>
<li><a href="https://developer.android.com/guide/topics/ui/layout/recyclerview" target="_blank">Create a List with RecyclerView</a></li>
<li><a href="https://developer.android.com/reference/kotlin/androidx/recyclerview/widget/RecyclerView" target="_blank"><code translate="no" dir="ltr">RecyclerView</code></a></li>
</ul>


        </google-codelab-step>
      
        <google-codelab-step label="Homework" duration="0">
          
          <p>This section lists possible homework assignments for students who are working through this codelab as part of a course led by an instructor. It&#39;s up to the instructor to do the following:</p>
<ul>
<li>Assign homework if required.</li>
<li>Communicate to students how to submit homework assignments.</li>
<li>Grade the homework assignments.</li>
</ul>
<p>Instructors can use these suggestions as little or as much as they want, and should feel free to assign any other homework they feel is appropriate.</p>
<p>If you&#39;re working through this codelab on your own, feel free to use these homework assignments to test your knowledge.</p>

<h2 is-upgraded id="answer-these-questions" data-text="Answer these questions"><strong>Answer these questions</strong></h2>
<h3 is-upgraded id="question-1" data-text="Question 1"><strong>Question 1</strong></h3>
<p>Which of the following statements is true about <code translate="no" dir="ltr">ViewHolder</code>?  </p>
<p>▢ An adapter can use multiple <code translate="no" dir="ltr">ViewHolder</code> classes to hold headers and various types of data. </p>
<p>▢ You can have exactly one view holder for data, and one view holder for a header.</p>
<p>▢ A <code translate="no" dir="ltr">RecyclerView</code> supports multiple types of headers, but the data has to be uniform. </p>
<p>▢ When adding a header, you subclass <code translate="no" dir="ltr">RecyclerView</code> to insert the header at the correct position. </p>
<h3 is-upgraded id="question-2" data-text="Question 2"><strong>Question 2</strong></h3>
<p>When should you use coroutines with a <code translate="no" dir="ltr">RecyclerView</code>? Select all the statements that are true.</p>
<p>▢ Never. A <code translate="no" dir="ltr">RecyclerView</code> is a UI element and should not use coroutines. </p>
<p>▢ Use coroutines for long-running tasks that could slow the UI. </p>
<p>▢ List manipulations can take a long time, and you should always do them using coroutines. </p>
<p>▢ Use coroutines with suspend functions to avoid blocking the main thread. </p>
<h3 is-upgraded id="question-3" data-text="Question 3"><strong>Question 3</strong></h3>
<p>Which of the following do you NOT have to do when using more than one <code translate="no" dir="ltr">ViewHolder</code>?</p>
<p>▢ In the <code translate="no" dir="ltr">ViewHolder</code>, provide multiple layout files to inflate as needed.</p>
<p>▢ In <code translate="no" dir="ltr">onCreateViewHolder()</code>, return the correct type of view holder for the data item.</p>
<p>▢ In <code translate="no" dir="ltr">onBindViewHolder()</code>, only bind data if the view holder is the correct type of view holder for the data item. </p>
<p>▢ Generalize the adapter class signature to accept any <code translate="no" dir="ltr">RecyclerView.ViewHolder</code>.</p>


        </google-codelab-step>
      
        <google-codelab-step label="Next codelab" duration="0">
          
          <p>Start the next lesson: <a href="https://codelabs.developers.google.com/codelabs/kotlin-android-training-internet-data/" target="_blank"><paper-button class="colored" raised>Getting data from the internet</paper-button></a></p>
<p>For links to other codelabs in this course, see the <a href="https://codelabs.developers.google.com/android-kotlin-fundamentals/" target="_blank">Android Kotlin Fundamentals codelabs landing page</a>.</p>



        </google-codelab-step>
      
    </google-codelab>
  
    

    
  </div>

  

  
    
    
    
  

  
  
</article>




            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            

<nav class="devsite-footer-promos nocontent" aria-label="Promosi">
  <ul class="devsite-footer-promos-list">
    
    <li class="devsite-footer-promo">
      <a href="//twitter.com/AndroidDev"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer Twitter Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="/_static/android/images/logo-twitter.svg"
             loading="lazy"
             alt="Twitter">
        
        Twitter
      </a>
      <div class="devsite-footer-promo-description">Ikuti @AndroidDev di Twitter</div>
    </li>
    
    <li class="devsite-footer-promo">
      <a href="//www.youtube.com/user/androiddevelopers"
         class="devsite-footer-promo-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
       
       
         data-label="Footer YouTube Promo"
       >
        
        
        <img class="devsite-footer-promo-icon"
             src="//www.gstatic.com/images/icons/material/product/2x/youtube_48dp.png"
             loading="lazy"
             alt="YouTube">
        
        YouTube
      </a>
      <div class="devsite-footer-promo-description">Lihat Developer Android di YouTube</div>
    </li>
    
  </ul>
</nav>

          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Link footer">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Selengkapnya tentang Android</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Android
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/enterprise/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Enterprise
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/security-center/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Keamanan
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//source.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Source
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dukungan</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=190923&amp;template=841312"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Laporkan bug platform
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues/new?component=192697"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Laporkan bug dokumentasi
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/googleplay/android-developer"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Google Play support
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="https://google.qualtrics.com/jfe/form/SV_ewWXIoEVLBcyp7f??reserved=1&amp;utm_source=FooterLink&amp;Q_Language=en&amp;utm_medium=own_srch&amp;utm_campaign=developer.android.com&amp;utm_term=0&amp;utm_content=0&amp;productTag=reg&amp;campaignDate=may19&amp;pType=devel&amp;referral_code=gV420370"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Bergabung dengan studi riset
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Dokumentasi</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/guide"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Panduan developer
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/design"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Panduan desain
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/reference"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Referensi API
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/samples"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Sampel
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/studio/intro"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Android Studio
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Situs Google Developers lain">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <img class="devsite-footer-sites-logo"
           src="https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup-developers.svg"
           loading="lazy"
           alt="Google Developers">
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          Semua produk
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Link utilitas">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privasi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          Lisensi
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/distribute/marketing-tools/brand-guidelines"
           data-category="Site-Wide Custom Events"
           data-label="Footer Brand guidelines link"
         >
          Pedoman brand
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 devsite-footer-utility-button">
        
        <span class="devsite-footer-utility-description">Dapatkan berita dan tips melalui email</span>
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/updates"
           data-category="Site-Wide Custom Events"
           data-label="Footer Subscribe link"
         >
          Berlangganan
        </a>
        
      </li>
      
    </ul>
    
    
    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Pilih preferensi bahasa Anda."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="id"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="id"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            
              selected="selected"
            >
        Bahasa Indonesia
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="id"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="id"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="id"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="id"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="id"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    
<devsite-snackbar 
                  ></devsite-snackbar>

    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe>
      
        <script type="application/json" analytics>[{"gaid": "UA-5831155-1", "dimensions": {"dimension4": "Developer Android", "dimension6": "en", "dimension1": "Signed In", "dimension3": false, "dimension5": "id", "dimension11": false}, "metrics": {"ratings_count": "metric2", "ratings_value": "metric1"}}]</script>
<script type="application/json" gtm>{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "id", "served": "en"}, "pageType": "codelab", "projectName": "Developer Android", "signedIn": "True", "tenant": "android", "recommendations": {"sourcePage": "", "sourceType": 0, "sourceRank": 0, "sourceIdenticalDescriptions": 0, "sourceTitleWords": 0, "sourceDescriptionWords": 0, "experiment": ""}}, "tags": ["GTM-KMSWPCJ"]}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
<android-fully-clickable target=".fully-clickable" watch="devsite-content"></android-fully-clickable>
    <script nonce="rZvXQ25vc1WuPMrfV/Ty3FGqO43idw">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/js/app_loader.js', '[3,"id",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android","https://android-dot-devsite-v2-prod.appspot.com",1,null,["/_pwa/android/manifest.json","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/favicon.png","https://www.gstatic.com/devrel-devsite/prod/v854c54f3442b5b06d97cb2bf43f3647f489796c80c33899ecd29b91ae5303388/android/images/lockup.svg","https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,40,50,63,70,75,76,80,87,88,91,92,93,97,98,100,101,102,103,104,105,107,108,111,112,113,115,117,118,120,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,138,147,148,149],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg"]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>