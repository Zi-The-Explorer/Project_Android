(function(_ds){var window=this;'use strict';var GY=function(){return(0,_ds.S)('<div class="devsite-select"></div>')},HY=function(a){var b=a.fh,c=a.dd;a='<label id="'+_ds.V(a.id)+'-label" style="display:none;"'+(c?' aria-label="'+_ds.V(c)+'"':"")+">";return(0,_ds.S)((b?a+"Pilih satu atau beberapa opsi":a+"Pilih opsi")+"</label>")},IY=function(a){var b=a.label;a=a.id;return(0,_ds.S)('<button type="button" class="devsite-select-toggle" id="'+_ds.V(a)+'-button" aria-haspopup="true" aria-labelledby="'+_ds.V(a)+"-label "+_ds.V(a)+'-button" aria-controls="'+
_ds.V(a)+'-popup"><span class="devsite-select-toggle-label">'+_ds.T(b)+"</span></button>")},JY=function(){return(0,_ds.S)('<span class="devsite-icon devsite-icon-arrow-drop-down devsite-select-toggle-icon" aria-hidden="true"></span>')},KY=function(a){return(0,_ds.S)('<span class="devsite-select-toggle-count"'+(a.Lp?" parens":"")+(a.mf?" zero":"")+"></span>")},LY=function(a){var b=a.options,c=a.id;a=a.fh;a='<ul class="devsite-select-list" id="'+_ds.V(c)+'-popup" tabindex="-1" role="listbox" scrollbars aria-labelledby="'+
_ds.V(c)+'-button"'+(a?' aria-multiselectable="true"':"")+">";for(var d=b.length,e=0;e<d;e++){var g=b[e];a+='<li role="option"';for(var h=_ds.YD(g.attributes),k=h.length,l=0;l<k;l++){var m=h[l];a+=" "+_ds.so(m)+'="'+_ds.V(g.attributes.get(m))+'"'}a+=' id="'+_ds.V(c)+"-"+_ds.V(e)+'" class="devsite-select-item" data-index="'+_ds.V(e)+'"'+(g.defaultSelected?' data-selected aria-selected="true"':' aria-selected="false"')+' aria-label="'+_ds.V(g.dd)+'">'+_ds.T(g.label)+"</li>"}return(0,_ds.S)(a+"</ul>")},
MY=function(){var a=_ds.Q.call(this)||this;a.o=null;a.J=null;a.F=new _ds.Ll;a.H=new _ds.Ll;a.T=null;a.N=!1;a.C=!1;a.R="";a.h=null;a.D=null;a.Y=null;a.m=null;a.K=null;a.M=null;a.$=new _ds.Jl;return a},NY=function(a){var b=a.querySelector(".kd-select");b&&(b.classList.remove("kd-select"),Array.from(b.classList).forEach(function(c){a.classList.add(c);b.classList.remove(c)}))},TY=function(a){a.m=a.querySelector("select");var b;(b=a.m.id)||(OY++,b="devsite-select-"+OY+Math.random().toString().substr(2));
a.m&&(a.m.options.length&&(a.M=a.m.options),a.m.hasAttribute("multiple")&&(a.C=!0,a.classList.add("devsite-select--multiple")));if(a.M){var c=_ds.So(GY),d=a.m.options;d=d[a.m.selectedIndex]||d[0];a.R=a.hasAttribute("label")?a.getAttribute("label"):d.label;d={dd:a.m.getAttribute("aria-label"),id:b,fh:a.C};d=_ds.So(HY,d);c.appendChild(d);a.D=_ds.So(IY,{label:a.R,id:b});d=_ds.So(JY);a.D.appendChild(d);c.appendChild(a.D);a.hasAttribute("selected-count")&&a.C&&(d=a.getAttribute("selected-count").split(" "),
d={Lp:d.includes("parens"),mf:d.includes("zero")},a.K=_ds.So(KY,d),a.D.appendChild(a.K),PY(a));a.h=_ds.So(LY,{options:Array.from(a.M).map(function(e){for(var g=e.defaultSelected,h=QY(e.label,e.defaultSelected),k=e.label,l=new Map,m=_ds.n(RY),p=m.next();!p.done;p=m.next())p=p.value,e.hasAttribute(p)&&l.set(p,e.getAttribute(p));return{defaultSelected:g,dd:h,label:k,attributes:l}}),id:b,fh:a.C});c.appendChild(a.h);a.appendChild(c);a.Y=a.querySelector(".devsite-select-toggle-label");a.m.hasAttribute("disabled")&&
a.querySelector(".devsite-select-toggle").setAttribute("disabled","");SY(a)}a.N=!0},SY=function(a){a.F.listen(a.D,"click",function(b){clearTimeout(a.T);a.dispatchEvent(new CustomEvent("devsite-close-select",{bubbles:!0}));b.preventDefault();b.stopPropagation();a.hasAttribute("menu--open")?UY(a):VY(a)});a.F.listen(a.h,"click",function(b){b.target.classList.contains("devsite-select-item")&&WY(a,b.target)});a.F.listen(a.h,"focusout",function(){a.T=setTimeout(function(){return UY(a)},200)});a.F.listen(a.m,
"change",function(){var b=a.querySelectorAll("option");PY(a);XY(a,YY(b))});a.F.listen(a.h,"keydown",function(b){var c=b.which||b.keyCode;switch(c){case 38:case 40:b.preventDefault();if(a.o){if(b=40===c?_ds.Ji(a.o):_ds.Ki(a.o))a.o.classList.remove("devsite-focused"),a.h.setAttribute("aria-activedescendant",b.id),b.classList.add("devsite-focused"),a.o=b}else ZY(a);a.o.scrollIntoView({block:"nearest"});break;case 13:case 32:b.preventDefault();WY(a,a.o);break;case 9:case 27:UY(a)}});a.F.listen(a.D,"keydown",
function(b){var c=b.which||b.keyCode;if(38===c||40===c)b.preventDefault(),a.hasAttribute("menu--open")||VY(a)})},VY=function(a){a.setAttribute("menu--open","");a.setAttribute("aria-expanded","true");ZY(a);a.h.focus();"scrollIntoViewIfNeeded"in a.o&&a.o.scrollIntoViewIfNeeded()},UY=function(a){a.removeAttribute("menu--open");a.removeAttribute("aria-expanded");a.H.listen(document.body,"click",a.J);a.H.listen(document.body,"devsite-close-select",a.J);a.o&&a.o.classList.remove("devsite-focused")},WY=
function(a,b){b&&($Y(a,parseInt(b.dataset.index,10)),a.C||(UY(a),a.D.focus()),a.m.dispatchEvent(new Event("change")))},ZY=function(a){if(a.h){var b=Array.from(a.h.children).find(function(c){return c.hasAttribute("data-selected")});a.o=b?b:a.h.children[0];a.h.setAttribute("aria-activedescendant",a.o.id)}},aZ=function(a){a.J=function(b){if("devsite-close-select"!==b.type||b.target!==a)a.C&&"devsite-select-item"===b.target.className||UY(a)};a.h&&(a.H.listen(document.body,"click",a.J),a.H.listen(document.body,
"devsite-close-select",a.J))},bZ=function(a){if(a.h&&a.D){a.h.style.removeProperty("left");a.h.style.removeProperty("right");var b=a.h.getBoundingClientRect();0<b.x+b.width-_ds.Kl(a.$).width?a.h.style.right="0":a.h.style.left="0"}},YY=function(a){return Array.from(a).reduce(function(b,c,d){c.selected&&b.push(d);return b},[])},PY=function(a){if(a.K){var b=a.m.selectedOptions.length,c=a.K.hasAttribute("zero");a.K.textContent=0!==b||c?b:""}},$Y=function(a,b){var c=a.querySelectorAll("option");if(c&&
c.length){if(!a.C)for(var d=_ds.n(c),e=d.next();!e.done;e=d.next())e.value.removeAttribute("selected");c[b]&&(b=c[b],a.C&&b.hasAttribute("selected")?b.removeAttribute("selected"):b.setAttribute("selected","true"));XY(a,YY(c))}},XY=function(a,b){var c=a.querySelectorAll(".devsite-select-item");Array.from(c).forEach(function(d,e){d=!1;b.includes(e)?(d=!0,c[e].setAttribute("data-selected",""),c[e].setAttribute("aria-selected","true"),a.h.setAttribute("aria-activedescendant",c[e].id)):(c[e].removeAttribute("data-selected"),
c[e].setAttribute("aria-selected","false"));c[e].setAttribute("aria-label",QY(c[e].textContent,d))});a.C||(a.Y.textContent=a.m.options[b[0]].label);bZ(a)},QY=function(a,b){return(void 0===b?0:b)?a+", dipilih":a},OY=0;var RY=["lang","title","value"];_ds.r(MY,_ds.Q);
MY.prototype.attributeChangedCallback=function(a,b,c){var d=this;return _ds.cb(function(e){if(1==e.h){if("menu--open"!==a||b===c)return e.G(2);if(!d.hasAttribute("menu--open"))return d.removeAttribute("menu--show"),_ds.Rl(d.H),e.G(2);bZ(d);d.removeAttribute("menu-position");if(d.h){var g=d.h.getBoundingClientRect(),h=_ds.Kl(d.$).height,k=parseInt(_ds.Zl(d.h,"maxHeight"),10);d.setAttribute("menu-position",g.top+(d.h.scrollHeight>k?k:d.h.scrollHeight)<h?"below":"above")}aZ(d);return _ds.v(e,0,4)}2!=
e.h&&d.setAttribute("menu--show","");"reset"===a&&$Y(d,0);_ds.x(e)})};MY.prototype.connectedCallback=function(){this.N||(NY(this),TY(this))};MY.prototype.disconnectedCallback=function(){_ds.Rl(this.H);_ds.Rl(this.F)};_ds.oa.Object.defineProperties(MY.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.m.value},set:function(a){WY(this,this.h.querySelector('.devsite-select-item[value="'+a+'"]'))}}});
_ds.oa.Object.defineProperties(MY,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["label","menu--open","reset"]}}});MY.prototype.disconnectedCallback=MY.prototype.disconnectedCallback;MY.prototype.connectedCallback=MY.prototype.connectedCallback;MY.prototype.attributeChangedCallback=MY.prototype.attributeChangedCallback;try{window.customElements.define("devsite-select",MY)}catch(a){console.warn("devsite.app.customElement.DevsiteSelect",a)};})(_ds_www);
